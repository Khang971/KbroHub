local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- HÃ€M TIá»†N ÃCH
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local function formatNumber(num)
	if num >= 1000000000000000000 then
		return string.format("%.2fQi", num / 1000000000000000000)
	elseif num >= 1000000000000000 then
		return string.format("%.2fQa", num / 1000000000000000)
	elseif num >= 1000000000000 then
		return string.format("%.1fT", num / 1000000000000)
	elseif num >= 1000000000 then
		return string.format("%.1fB", num / 1000000000)
	elseif num >= 1000000 then
		return string.format("%.1fM", num / 1000000)
	elseif num >= 1000 then
		return string.format("%.1fK", num / 1000)
	else
		return tostring(math.floor(num))
	end
end

local function createTween(instance, properties, time)
	local tweenInfo = TweenInfo.new(time or 0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
	local tween = TweenService:Create(instance, tweenInfo, properties)
	return tween
end

local function shakeEffect(instance)
	local originalPos = instance.Position
	createTween(instance, {Position = originalPos + UDim2.new(0, -10, 0, 0)}, 0.05):Play()
	wait(0.05)
	createTween(instance, {Position = originalPos + UDim2.new(0, 10, 0, 0)}, 0.05):Play()
	wait(0.05)
	createTween(instance, {Position = originalPos}, 0.05):Play()
end

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- Dá»® LIá»†U GAME
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local gameData = {
	money = 0,
	currentFish = nil,
	equippedCharacters = {},
	ownedCharacters = {"NgÆ° dÃ¢n"},
	equippedRod = "Cáº§n tre",
	ownedRods = {"Cáº§n tre"},
	equippedMagic = {},
	ownedMagic = {},
	isAutoFishing = false,
	aliumTransform = false,
	inventory = {},
	questsCompleted = {},
	fishKills = {},
	currentMap = "Biá»ƒn SÆ¡ Cáº¥p",
	unlockedMaps = {"Biá»ƒn SÆ¡ Cáº¥p"},
	rodQuestsCompleted = {},
	bonusActive = false
}

-- CODE Äáº¶C BIá»†T
if player.Name == "KhangDepzai" then
	gameData.money = 100000000
	print("ðŸŽ‰ ChÃ o má»«ng KhangDepzai! Báº¡n nháº­n Ä‘Æ°á»£c 100M tiá»n khá»Ÿi Ä‘áº§u!")
end

-- DATABASE Báº¢N Äá»’ (17 báº£n Ä‘á»“)
local mapDatabase = {
	{name = "Biá»ƒn SÆ¡ Cáº¥p", cost = 0, difficulty = 1, color = Color3.fromRGB(100, 150, 255)},
	{name = "Vá»‹nh Xanh", cost = 1000000, difficulty = 2, color = Color3.fromRGB(80, 180, 255)},
	{name = "Äáº¡i DÆ°Æ¡ng Báº¯c", cost = 10000000, difficulty = 3, color = Color3.fromRGB(60, 200, 255)},
	{name = "VÃ¹ng Biá»ƒn SÃ¢u", cost = 100000000, difficulty = 4, color = Color3.fromRGB(40, 150, 200)},
	{name = "Äáº£o Háº£i Táº·c", cost = 1000000000, difficulty = 5, color = Color3.fromRGB(255, 200, 100)},
	{name = "Ráº¡n San HÃ´", cost = 10000000000, difficulty = 6, color = Color3.fromRGB(255, 150, 200)},
	{name = "Biá»ƒn Ma", cost = 100000000000, difficulty = 7, color = Color3.fromRGB(150, 50, 150)},
	{name = "Vá»±c Tháº³m", cost = 1000000000000, difficulty = 8, color = Color3.fromRGB(50, 50, 100)},
	{name = "Cung Äiá»‡n Rá»“ng", cost = 10000000000000, difficulty = 9, color = Color3.fromRGB(255, 215, 0)},
	{name = "Biá»ƒn BÄƒng", cost = 100000000000000, difficulty = 10, color = Color3.fromRGB(200, 255, 255)},
	{name = "VÃ¹ng Lá»­a", cost = 1000000000000000, difficulty = 11, color = Color3.fromRGB(255, 100, 50)},
	{name = "KhÃ´ng Gian Vá»¡", cost = 10000000000000000, difficulty = 12, color = Color3.fromRGB(180, 100, 255)},
	{name = "Thá»i Gian NgÆ°á»£c", cost = 100000000000000000, difficulty = 13, color = Color3.fromRGB(100, 255, 180)},
	{name = "Chiá»u KhÃ´ng", cost = 1000000000000000000, difficulty = 14, color = Color3.fromRGB(255, 255, 100)},
	{name = "Há»—n Äá»™n Biá»ƒn", cost = 10000000000000000000, difficulty = 15, color = Color3.fromRGB(50, 50, 50)},
	{name = "Vá»±c VÃ´ Táº­n", cost = 100000000000000000000, difficulty = 16, color = Color3.fromRGB(255, 50, 255)},
	{name = "Táº­n Tháº¿", cost = 1000000000000000000000, difficulty = 17, color = Color3.fromRGB(255, 0, 0)}
}

-- DATABASE CÃ CHO Tá»ªNG Báº¢N Äá»’ (43 cÃ¡ má»—i map)
local function generateFishForMap(mapDifficulty)
	local baseFish = {}
	local hpMultiplier = math.pow(10, mapDifficulty - 1)
	local moneyMultiplier = math.pow(5, mapDifficulty - 1)
	
	-- 43 con cÃ¡ cho má»—i map
	local fishNames = {
		"CÃ¡ RÃ´", "CÃ¡ ChÃ©p", "CÃ¡ Tráº¯m", "CÃ¡ LÃ³c", "CÃ¡ Sáº¥u", "CÃ¡ Há»“i", "CÃ¡ Ngá»«", "CÃ¡ TrÃ­ch", "CÃ¡ Há»‘", "CÃ¡ Thu",
		"CÃ¡ Voi Xanh", "CÃ¡ Máº­p Tráº¯ng", "CÃ¡ Máº­p BÃºa", "CÃ¡ Voi SÃ¡t Thá»§", "CÃ¡ Sáº¥u Khá»•ng Lá»“", "CÃ¡ Máº­p Há»•", "CÃ¡ Rá»“ng Biá»ƒn", "CÃ¡ Máº­p Megalodon", "CÃ¡ Voi XÃ¡m", "CÃ¡ Heo Khá»•ng Lá»“",
		"Rá»“ng Biá»ƒn BÄƒng", "PhÆ°á»£ng HoÃ ng Lá»­a", "Ká»³ LÃ¢n SÃ³ng", "Há»• Biá»ƒn VÃ ng", "RÃ¹a Huyá»n VÅ©", "Báº¡ch Há»• Thá»§y", "Chu TÆ°á»›c ThiÃªn", "Thanh Long Háº£i",
		"Tinh ThÃ¡nh", "Alium", "CÃ¡ Tháº§n Sáº¥m", "CÃ¡ Ma VÆ°Æ¡ng", "CÃ¡ ThÃ¡nh Linh", "CÃ¡ Há»—n Äá»™n", "CÃ¡ ThÃ¡i Cá»•",
		"CÃ¡ VÅ© Trá»¥", "CÃ¡ Tháº§n Thoáº¡i", "CÃ¡ VÃ´ Cá»±c", "CÃ¡ Tá»‘i ThÆ°á»£ng", "CÃ¡ ChÃ­ TÃ´n", "CÃ¡ Váº¡n Cá»• Äáº¿ TÃ´n", "CÃ¡ Diá»‡t Tháº¿", "CÃ¡ Tuyá»‡t Äá»‘i"
	}
	
	for i, fishName in ipairs(fishNames) do
		local fishType = "normal"
		local canAttack = false
		
		if i > 35 then
			fishType = "special"
			canAttack = math.random(1, 100) <= 30
		elseif i > 27 then
			fishType = "legendary"
			canAttack = math.random(1, 100) <= 20
		elseif i > 20 then
			fishType = "giant"
			canAttack = math.random(1, 100) <= 10
		end
		
		local hp = (100 * i * hpMultiplier) + (mapDifficulty * 50000)
		local weight = 2 * i + mapDifficulty * 10
		local money = (50 * i * moneyMultiplier) + (mapDifficulty * 10000)
		local kg = math.floor(i / 2) + mapDifficulty * 5
		local sellPrice = money * 2
		local attackDamage = canAttack and math.floor(hp * 0.05) or 0
		
		table.insert(baseFish, {
			name = fishName .. " Lv." .. mapDifficulty,
			hp = hp,
			weight = weight,
			money = money,
			type = fishType,
			kg = kg,
			sellPrice = sellPrice,
			canAttack = canAttack,
			attackDamage = attackDamage,
			mapLevel = mapDifficulty
		})
	end
	
	return baseFish
end

local fishDatabase = generateFishForMap(1)

-- DATABASE NHÃ‚N Váº¬T Má»ž Rá»˜NG (62 nhÃ¢n váº­t: 30 cÅ© + 32 má»›i)
local characterDatabase = {
	-- 30 nhÃ¢n váº­t cÅ©
	{name = "NgÆ° dÃ¢n", cost = 0, multiplier = 1, hp = 100},
	{name = "Ã‚n TÃ¡", cost = 300000000, multiplier = 2, hp = 200},
	{name = "Lan TÃ¢m", cost = 500000000, multiplier = 4, hp = 400},
	{name = "Lan ÄÃ o", cost = 750000000, multiplier = 6, hp = 600},
	{name = "ÄÃ o Ãi", cost = 900000000, multiplier = 10, hp = 1000},
	{name = "An ThÃ nh", cost = 1200000000, multiplier = 15, hp = 1500},
	{name = "Giang LÃ£o", cost = 1500000000, multiplier = 17, hp = 1700},
	{name = "Lan J97", cost = 2000000000, multiplier = 20, hp = 2000},
	{name = "Long Äiáº¿u ThiÃªn", cost = 5000000000, multiplier = 30, hp = 3000},
	{name = "TrÄƒm HÃ o", cost = 10000000000, multiplier = 50, hp = 5000},
	{name = "LÃ£o Tá»• Há» Lan", cost = 100000000000, multiplier = 100, hp = 10000},
	{name = "Tháº§n Biá»ƒn Poseidon", cost = 0, multiplier = 150, hp = 15000, quest = "CÃ¡ Voi Xanh Lv.1", kills = 10},
	{name = "SÃ¡t Thá»§ Máº­p", cost = 0, multiplier = 200, hp = 20000, quest = "CÃ¡ Máº­p Tráº¯ng Lv.1", kills = 15},
	{name = "PhÃ¡p SÆ° BÄƒng", cost = 0, multiplier = 250, hp = 25000, quest = "Rá»“ng Biá»ƒn BÄƒng Lv.1", kills = 5},
	{name = "Chiáº¿n Tháº§n Lá»­a", cost = 0, multiplier = 300, hp = 30000, quest = "PhÆ°á»£ng HoÃ ng Lá»­a Lv.1", kills = 5},
	{name = "HoÃ ng Äáº¿ Äáº¡i DÆ°Æ¡ng", cost = 0, multiplier = 400, hp = 40000, quest = "Ká»³ LÃ¢n SÃ³ng Lv.1", kills = 3},
	{name = "ThiÃªn TÃ´n Thá»§y", cost = 0, multiplier = 500, hp = 50000, quest = "Tinh ThÃ¡nh Lv.1", kills = 5},
	{name = "Ma Äáº¿ Háº¯c Ãm", cost = 0, multiplier = 600, hp = 60000, quest = "CÃ¡ Ma VÆ°Æ¡ng Lv.1", kills = 3},
	{name = "ThÃ¡nh VÆ°Æ¡ng Ãnh SÃ¡ng", cost = 0, multiplier = 700, hp = 70000, quest = "CÃ¡ ThÃ¡nh Linh Lv.1", kills = 2},
	{name = "Há»—n Äá»™n Chi Chá»§", cost = 0, multiplier = 800, hp = 80000, quest = "CÃ¡ Há»—n Äá»™n Lv.1", kills = 2},
	{name = "VÅ© Trá»¥ Äáº¡i Äáº¿", cost = 0, multiplier = 1000, hp = 100000, quest = "CÃ¡ VÅ© Trá»¥ Lv.1", kills = 1},
	{name = "Tháº§n Thoáº¡i Chi Tá»•", cost = 0, multiplier = 1200, hp = 120000, quest = "CÃ¡ Tháº§n Thoáº¡i Lv.1", kills = 1},
	{name = "VÃ´ Cá»±c TiÃªn TÃ´n", cost = 0, multiplier = 1500, hp = 150000, quest = "CÃ¡ VÃ´ Cá»±c Lv.1", kills = 1},
	{name = "ChÃ­ TÃ´n VÃ´ ThÆ°á»£ng", cost = 0, multiplier = 2000, hp = 200000, quest = "CÃ¡ ChÃ­ TÃ´n Lv.1", kills = 1},
	{name = "Váº¡n Cá»• Äáº¡i Äáº¿", cost = 0, multiplier = 3000, hp = 300000, quest = "CÃ¡ Váº¡n Cá»• Äáº¿ TÃ´n Lv.1", kills = 1},
	{name = "Thá»£ SÄƒn Rá»“ng", cost = 500000000000, multiplier = 350, hp = 35000},
	{name = "Vua Háº£i Táº·c", cost = 1000000000000, multiplier = 450, hp = 45000},
	{name = "TiÃªn NhÃ¢n CÃ¢u CÃ¡", cost = 5000000000000, multiplier = 550, hp = 55000},
	{name = "Tháº§n NÃ´ng", cost = 10000000000000, multiplier = 650, hp = 65000},
	{name = "Ngá»c HoÃ ng", cost = 50000000000000, multiplier = 900, hp = 90000},
	
	-- 32 nhÃ¢n váº­t má»›i
	{name = "Kiáº¿m ThÃ¡nh Biá»ƒn Cáº£", cost = 100000000000000, multiplier = 1100, hp = 110000},
	{name = "VÃµ ThÃ¡nh SÃ³ng GiÃ³", cost = 500000000000000, multiplier = 1300, hp = 130000},
	{name = "Äao ThÃ¡nh Háº£i VÆ°Æ¡ng", cost = 1000000000000000, multiplier = 1600, hp = 160000},
	{name = "ThÆ°Æ¡ng ThÃ¡nh Long VÆ°Æ¡ng", cost = 5000000000000000, multiplier = 2000, hp = 200000},
	{name = "Cung ThÃ¡nh ThiÃªn Äá»‹a", cost = 10000000000000000, multiplier = 2500, hp = 250000},
	{name = "PhÃ¹ Thá»§y Biá»ƒn SÃ¢u", cost = 50000000000000000, multiplier = 3000, hp = 300000},
	{name = "Linh Má»¥c SÃ³ng Tháº§n", cost = 100000000000000000, multiplier = 3500, hp = 350000},
	{name = "Äáº¥u SÄ© Äáº¡i DÆ°Æ¡ng", cost = 500000000000000000, multiplier = 4000, hp = 400000},
	{name = "SÃ¡t Thá»§ BÃ³ng ÄÃªm", cost = 1000000000000000000, multiplier = 4500, hp = 450000},
	{name = "Ninja SÃ³ng NÆ°á»›c", cost = 5000000000000000000, multiplier = 5000, hp = 500000},
	{name = "Samurai Biá»ƒn Äá»™ng", cost = 10000000000000000000, multiplier = 6000, hp = 600000},
	{name = "Hiá»‡p SÄ© Rá»“ng Biá»ƒn", cost = 50000000000000000000, multiplier = 7000, hp = 700000},
	{name = "Äáº¥u SÄ© Tháº§n ThÃ¡nh", cost = 100000000000000000000, multiplier = 8000, hp = 800000},
	{name = "Ma PhÃ¡p SÆ° Tá»‘i Cao", cost = 500000000000000000000, multiplier = 9000, hp = 900000},
	{name = "Chiáº¿n Binh VÃ´ Äá»‹ch", cost = 1000000000000000000000, multiplier = 10000, hp = 1000000},
	{name = "PhÃ¡p SÆ° Cá»• Äáº¡i", cost = 5000000000000000000000, multiplier = 12000, hp = 1200000},
	{name = "Äáº¡o SÄ© Huyá»n MÃ´n", cost = 10000000000000000000000, multiplier = 15000, hp = 1500000},
	{name = "ThÃ¡nh SÆ° Ãnh SÃ¡ng", cost = 50000000000000000000000, multiplier = 18000, hp = 1800000},
	{name = "Ãm SÃ¡t Giáº£ Tá»‘i ThÆ°á»£ng", cost = 100000000000000000000000, multiplier = 20000, hp = 2000000},
	{name = "Äáº¡i Ma Äáº§u", cost = 500000000000000000000000, multiplier = 25000, hp = 2500000},
	{name = "Tháº§n Long Cá»­u ThiÃªn", cost = 1000000000000000000000000, multiplier = 30000, hp = 3000000},
	{name = "PhÆ°á»£ng HoÃ ng ThiÃªn Háº¡", cost = 5000000000000000000000000, multiplier = 35000, hp = 3500000},
	{name = "Ká»³ LÃ¢n ThÃ¡nh ThÃº", cost = 10000000000000000000000000, multiplier = 40000, hp = 4000000},
	{name = "Huyá»n VÅ© Äáº¡i Äáº¿", cost = 50000000000000000000000000, multiplier = 50000, hp = 5000000},
	{name = "Báº¡ch Há»• TÃ¢y Vá»±c", cost = 100000000000000000000000000, multiplier = 60000, hp = 6000000},
	{name = "Chu TÆ°á»›c Nam ThiÃªn", cost = 500000000000000000000000000, multiplier = 70000, hp = 7000000},
	{name = "Thanh Long ÄÃ´ng Háº£i", cost = 1000000000000000000000000000, multiplier = 80000, hp = 8000000},
	{name = "Tá»© ThÃ¡nh Há»£p Nháº¥t", cost = 5000000000000000000000000000, multiplier = 100000, hp = 10000000},
	{name = "ThÃ¡i ThÆ°á»£ng LÃ£o QuÃ¢n", cost = 10000000000000000000000000000, multiplier = 150000, hp = 15000000},
	{name = "NhÆ° Lai Pháº­t Tá»•", cost = 50000000000000000000000000000, multiplier = 200000, hp = 20000000},
	{name = "NguyÃªn Thá»§y ThiÃªn TÃ´n", cost = 100000000000000000000000000000, multiplier = 300000, hp = 30000000},
	{name = "Há»“ng QuÃ¢n LÃ£o Tá»•", cost = 500000000000000000000000000000, multiplier = 500000, hp = 50000000}
}

-- DATABASE Cáº¦N CÃ‚U Má»ž Rá»˜NG (82 loáº¡i: 25 cÅ© + 57 má»›i)
local rodDatabase = {
	-- 25 cáº§n cÅ©
	{name = "Cáº§n tre", cost = 0, damage = 10, durability = 100, maxKg = 10},
	{name = "Cáº§n gá»—", cost = 1000, damage = 25, durability = 200, maxKg = 20},
	{name = "Cáº§n sáº¯t", cost = 10000, damage = 50, durability = 500, maxKg = 50},
	{name = "Cáº§n thÃ©p", cost = 100000, damage = 100, durability = 1000, maxKg = 100},
	{name = "Cáº§n titan", cost = 1000000, damage = 250, durability = 2500, maxKg = 200},
	{name = "Cáº§n kim cÆ°Æ¡ng", cost = 10000000, damage = 500, durability = 5000, maxKg = 350},
	{name = "Cáº§n huyá»n thiáº¿t", cost = 100000000, damage = 1000, durability = 10000, maxKg = 500},
	{name = "Cáº§n thiÃªn tháº¡ch", cost = 1000000000, damage = 2500, durability = 25000, maxKg = 800},
	{name = "Cáº§n long lÃ¢n", cost = 10000000000, damage = 5000, durability = 50000, maxKg = 1200},
	{name = "Cáº§n phÆ°á»£ng hoÃ ng", cost = 100000000000, damage = 10000, durability = 100000, maxKg = 1800},
	{name = "Cáº§n tháº§n thoáº¡i", cost = 1000000000000, damage = 25000, durability = 250000, maxKg = 2500},
	{name = "Cáº§n váº¡n cá»•", cost = 10000000000000, damage = 50000, durability = 500000, maxKg = 3500},
	{name = "Cáº§n há»—n Ä‘á»™n", cost = 100000000000000, damage = 100000, durability = 1000000, maxKg = 5000},
	{name = "Cáº§n thÃ¡i cá»•", cost = 500000000000000, damage = 250000, durability = 2500000, maxKg = 8000},
	{name = "Cáº§n vÃ´ cá»±c", cost = 1000000000000000, damage = 500000, durability = 5000000, maxKg = 12000},
	{name = "Cáº§n tá»‘i thÆ°á»£ng", cost = 5000000000000000, damage = 1000000, durability = 10000000, maxKg = 18000},
	{name = "Cáº§n chÃ­ tÃ´n", cost = 10000000000000000, damage = 2500000, durability = 25000000, maxKg = 25000},
	{name = "Cáº§n thiÃªn Ä‘áº¿", cost = 50000000000000000, damage = 5000000, durability = 50000000, maxKg = 35000},
	{name = "Cáº§n ma Ä‘áº¿", cost = 100000000000000000, damage = 10000000, durability = 100000000, maxKg = 50000},
	{name = "Cáº§n thÃ¡nh vÆ°Æ¡ng", cost = 500000000000000000, damage = 25000000, durability = 250000000, maxKg = 80000},
	{name = "Cáº§n váº¡n kiáº¿p", cost = 1000000000000000000, damage = 50000000, durability = 500000000, maxKg = 120000},
	{name = "Cáº§n báº¥t diá»‡t", cost = 5000000000000000000, damage = 100000000, durability = 1000000000, maxKg = 180000},
	{name = "Cáº§n vÄ©nh háº±ng", cost = 10000000000000000000, damage = 250000000, durability = 2500000000, maxKg = 250000},
	{name = "Cáº§n táº¡o hÃ³a", cost = 50000000000000000000, damage = 500000000, durability = 5000000000, maxKg = 350000},
	{name = "Cáº§n váº¡n cá»• Ä‘áº¿", cost = 100000000000000000000, damage = 1000000000, durability = 10000000000, maxKg = 500000},
	
	-- 57 cáº§n má»›i (10 quest + 47 mua)
	-- QUEST RODS
	{name = "Cáº§n Rá»“ng Tháº§n", cost = 0, damage = 5000000000, durability = 50000000000, maxKg = 800000, questRod = true, questFish = "CÃ¡ Rá»“ng Biá»ƒn Lv.5", questKills = 20},
	{name = "Cáº§n PhÆ°á»£ng ThÃ¡nh", cost = 0, damage = 10000000000, durability = 100000000000, maxKg = 1200000, questRod = true, questFish = "PhÆ°á»£ng HoÃ ng Lá»­a Lv.7", questKills = 15},
	{name = "Cáº§n Ká»³ LÃ¢n BÃ¡", cost = 0, damage = 25000000000, durability = 250000000000, maxKg = 1800000, questRod = true, questFish = "Ká»³ LÃ¢n SÃ³ng Lv.9", questKills = 10},
	{name = "Cáº§n Huyá»n VÅ© TÃ´n", cost = 0, damage = 50000000000, durability = 500000000000, maxKg = 2500000, questRod = true, questFish = "RÃ¹a Huyá»n VÅ© Lv.10", questKills = 8},
	{name = "Cáº§n Báº¡ch Há»• VÆ°Æ¡ng", cost = 0, damage = 100000000000, durability = 1000000000000, maxKg = 3500000, questRod = true, questFish = "Báº¡ch Há»• Thá»§y Lv.12", questKills = 6},
	{name = "Cáº§n Chu TÆ°á»›c Äáº¿", cost = 0, damage = 250000000000, durability = 2500000000000, maxKg = 5000000, questRod = true, questFish = "Chu TÆ°á»›c ThiÃªn Lv.13", questKills = 5},
	{name = "Cáº§n Thanh Long TÃ´n", cost = 0, damage = 500000000000, durability = 5000000000000, maxKg = 7000000, questRod = true, questFish = "Thanh Long Háº£i Lv.14", questKills = 4},
	{name = "Cáº§n Tá»© ThÃ¡nh", cost = 0, damage = 1000000000000, durability = 10000000000000, maxKg = 10000000, questRod = true, questFish = "CÃ¡ Há»—n Äá»™n Lv.15", questKills = 3},
	{name = "Cáº§n Há»“ng MÃ´ng", cost = 0, damage = 5000000000000, durability = 50000000000000, maxKg = 15000000, questRod = true, questFish = "CÃ¡ VÅ© Trá»¥ Lv.16", questKills = 2},
	{name = "Cáº§n Tuyá»‡t Äá»‘i", cost = 0, damage = 10000000000000, durability = 100000000000000, maxKg = 20000000, questRod = true, questFish = "CÃ¡ Tuyá»‡t Äá»‘i Lv.17", questKills = 1},
	
	-- MUA RODS (47 cáº§n)
	{name = "Cáº§n bÄƒng tinh", cost = 500000000000000000000, damage = 2000000000, durability = 20000000000, maxKg = 600000},
	{name = "Cáº§n há»a diá»‡m", cost = 1000000000000000000000, damage = 3000000000, durability = 30000000000, maxKg = 700000},
	{name = "Cáº§n lÃ´i Ä‘iá»‡n", cost = 5000000000000000000000, damage = 4000000000, durability = 40000000000, maxKg = 900000},
	{name = "Cáº§n phong vÃ¢n", cost = 10000000000000000000000, damage = 6000000000, durability = 60000000000, maxKg = 1000000},
	{name = "Cáº§n Ä‘á»‹a cháº¥n", cost = 50000000000000000000000, damage = 8000000000, durability = 80000000000, maxKg = 1300000},
	{name = "Cáº§n má»™c linh", cost = 100000000000000000000000, damage = 12000000000, durability = 120000000000, maxKg = 1500000},
{name = "Cáº§n kim quang", cost = 500000000000000000000000, damage = 15000000000, durability = 150000000000, maxKg = 2000000},
	{name = "Cáº§n thá»§y long", cost = 1000000000000000000000000, damage = 20000000000, durability = 200000000000, maxKg = 2200000},
	{name = "Cáº§n Ã¢m dÆ°Æ¡ng", cost = 5000000000000000000000000, damage = 30000000000, durability = 300000000000, maxKg = 2800000},
	{name = "Cáº§n ngÅ© hÃ nh", cost = 10000000000000000000000000, damage = 40000000000, durability = 400000000000, maxKg = 3200000},
	{name = "Cáº§n bÃ¡t quÃ¡i", cost = 50000000000000000000000000, damage = 60000000000, durability = 600000000000, maxKg = 4000000},
	{name = "Cáº§n tháº¥t tinh", cost = 100000000000000000000000000, damage = 80000000000, durability = 800000000000, maxKg = 4500000},
	{name = "Cáº§n lá»¥c Ä‘áº¡o", cost = 500000000000000000000000000, damage = 120000000000, durability = 1200000000000, maxKg = 5500000},
	{name = "Cáº§n ngÅ© Ä‘áº¿", cost = 1000000000000000000000000000, damage = 150000000000, durability = 1500000000000, maxKg = 6000000},
	{name = "Cáº§n tam thanh", cost = 5000000000000000000000000000, damage = 200000000000, durability = 2000000000000, maxKg = 7500000},
	{name = "Cáº§n nhá»‹ thÃ¡nh", cost = 10000000000000000000000000000, damage = 300000000000, durability = 3000000000000, maxKg = 8500000},
	{name = "Cáº§n nháº¥t nguyÃªn", cost = 50000000000000000000000000000, damage = 400000000000, durability = 4000000000000, maxKg = 9500000},
	{name = "Cáº§n váº¡n phÃ¡p", cost = 100000000000000000000000000000, damage = 600000000000, durability = 6000000000000, maxKg = 11000000},
	{name = "Cáº§n thiÃªn Ä‘áº¡o", cost = 500000000000000000000000000000, damage = 800000000000, durability = 8000000000000, maxKg = 12500000},
	{name = "Cáº§n Ä‘á»‹a Ä‘áº¡o", cost = 1000000000000000000000000000000, damage = 1200000000000, durability = 12000000000000, maxKg = 13500000},
	{name = "Cáº§n nhÃ¢n Ä‘áº¡o", cost = 5000000000000000000000000000000, damage = 1500000000000, durability = 15000000000000, maxKg = 14500000},
	{name = "Cáº§n tam Ä‘áº¡o", cost = 10000000000000000000000000000000, damage = 2000000000000, durability = 20000000000000, maxKg = 16000000},
	{name = "Cáº§n há»“ng hoang", cost = 50000000000000000000000000000000, damage = 3000000000000, durability = 30000000000000, maxKg = 17500000},
	{name = "Cáº§n khai thiÃªn", cost = 100000000000000000000000000000000, damage = 4000000000000, durability = 40000000000000, maxKg = 18500000},
	{name = "Cáº§n tÃ­ch Ä‘á»‹a", cost = 500000000000000000000000000000000, damage = 6000000000000, durability = 60000000000000, maxKg = 19500000},
	{name = "Cáº§n phÃ¡ vÃ´", cost = 1000000000000000000000000000000000, damage = 8000000000000, durability = 80000000000000, maxKg = 22000000},
	{name = "Cáº§n diá»‡t há»¯u", cost = 5000000000000000000000000000000000, damage = 12000000000000, durability = 120000000000000, maxKg = 24000000},
	{name = "Cáº§n sinh tá»­", cost = 10000000000000000000000000000000000, damage = 15000000000000, durability = 150000000000000, maxKg = 26000000},
	{name = "Cáº§n luÃ¢n há»“i", cost = 50000000000000000000000000000000000, damage = 20000000000000, durability = 200000000000000, maxKg = 28000000},
	{name = "Cáº§n nhÃ¢n quáº£", cost = 100000000000000000000000000000000000, damage = 30000000000000, durability = 300000000000000, maxKg = 30000000},
	{name = "Cáº§n má»‡nh váº­n", cost = 500000000000000000000000000000000000, damage = 40000000000000, durability = 400000000000000, maxKg = 35000000},
	{name = "Cáº§n thá»i gian", cost = 1000000000000000000000000000000000000, damage = 60000000000000, durability = 600000000000000, maxKg = 40000000},
	{name = "Cáº§n khÃ´ng gian", cost = 5000000000000000000000000000000000000, damage = 80000000000000, durability = 800000000000000, maxKg = 45000000},
	{name = "Cáº§n chiá»u khÃ´ng", cost = 10000000000000000000000000000000000000, damage = 120000000000000, durability = 1200000000000000, maxKg = 50000000},
	{name = "Cáº§n nguyÃªn tá»‘", cost = 50000000000000000000000000000000000000, damage = 150000000000000, durability = 1500000000000000, maxKg = 60000000},
	{name = "Cáº§n nÄƒng lÆ°á»£ng", cost = 100000000000000000000000000000000000000, damage = 200000000000000, durability = 2000000000000000, maxKg = 70000000},
	{name = "Cáº§n váº­t cháº¥t", cost = 500000000000000000000000000000000000000, damage = 300000000000000, durability = 3000000000000000, maxKg = 80000000},
	{name = "Cáº§n Ã½ chÃ­", cost = 1000000000000000000000000000000000000000, damage = 400000000000000, durability = 4000000000000000, maxKg = 90000000},
	{name = "Cáº§n linh há»“n", cost = 5000000000000000000000000000000000000000, damage = 600000000000000, durability = 6000000000000000, maxKg = 100000000},
	{name = "Cáº§n tháº§n thá»©c", cost = 10000000000000000000000000000000000000000, damage = 800000000000000, durability = 8000000000000000, maxKg = 120000000},
	{name = "Cáº§n chÃ¢n ngÃ£", cost = 50000000000000000000000000000000000000000, damage = 1200000000000000, durability = 12000000000000000, maxKg = 150000000},
	{name = "Cáº§n giáº£ ngÃ£", cost = 100000000000000000000000000000000000000000, damage = 1500000000000000, durability = 15000000000000000, maxKg = 180000000},
	{name = "Cáº§n vÃ´ ngÃ£", cost = 500000000000000000000000000000000000000000, damage = 2000000000000000, durability = 20000000000000000, maxKg = 220000000},
	{name = "Cáº§n báº£n ngÃ£", cost = 1000000000000000000000000000000000000000000, damage = 3000000000000000, durability = 30000000000000000, maxKg = 260000000},
	{name = "Cáº§n siÃªu ngÃ£", cost = 5000000000000000000000000000000000000000000, damage = 4000000000000000, durability = 40000000000000000, maxKg = 300000000},
	{name = "Cáº§n chÃ­ ngÃ£", cost = 10000000000000000000000000000000000000000000, damage = 6000000000000000, durability = 60000000000000000, maxKg = 350000000},
	{name = "Cáº§n vÃ´ thÆ°á»£ng", cost = 50000000000000000000000000000000000000000000, damage = 8000000000000000, durability = 80000000000000000, maxKg = 400000000},
	{name = "Cáº§n vÃ´ song", cost = 100000000000000000000000000000000000000000000, damage = 12000000000000000, durability = 120000000000000000, maxKg = 500000000},
	{name = "Cáº§n vÃ´ Ä‘á»‹ch", cost = 500000000000000000000000000000000000000000000, damage = 15000000000000000, durability = 150000000000000000, maxKg = 600000000},
	{name = "Cáº§n tuyá»‡t tháº¿", cost = 1000000000000000000000000000000000000000000000, damage = 20000000000000000, durability = 200000000000000000, maxKg = 800000000},
	{name = "Cáº§n thiÃªn háº¡", cost = 5000000000000000000000000000000000000000000000, damage = 30000000000000000, durability = 300000000000000000, maxKg = 1000000000},
	{name = "Cáº§n váº¡n giá»›i", cost = 10000000000000000000000000000000000000000000000, damage = 50000000000000000, durability = 500000000000000000, maxKg = 1500000000},
	{name = "Cáº§n chá»§ tá»ƒ", cost = 50000000000000000000000000000000000000000000000, damage = 80000000000000000, durability = 800000000000000000, maxKg = 2000000000}
}

-- DATABASE ÄIáº¾U PHÃP (50 loáº¡i tá»« trÆ°á»›c)
local magicDatabase = {
	{name = "Há»a Cáº§u Thuáº­t", cost = 1000000, damage = 100},
	{name = "BÄƒng Phong", cost = 5000000, damage = 250},
	{name = "LÃ´i Äiá»‡n", cost = 10000000, damage = 500},
	{name = "Thá»• Linh", cost = 50000000, damage = 1000},
	{name = "Má»™c Tinh", cost = 100000000, damage = 2000},
	{name = "Kim Quang", cost = 500000000, damage = 4000},
	{name = "Thá»§y Long", cost = 1000000000, damage = 8000},
	{name = "Phong Tháº§n", cost = 5000000000, damage = 16000},
	{name = "Huyá»n VÅ©", cost = 10000000000, damage = 32000},
	{name = "Chu TÆ°á»›c", cost = 50000000000, damage = 64000},
	{name = "Thanh Long", cost = 100000000000, damage = 128000},
	{name = "Báº¡ch Há»•", cost = 500000000000, damage = 256000},
	{name = "Cá»­u ThiÃªn", cost = 1000000000000, damage = 512000},
	{name = "Váº¡n Kiáº¿m", cost = 5000000000000, damage = 1024000},
	{name = "ThiÃªn Äá»‹a", cost = 10000000000000, damage = 2048000},
	{name = "Nháº­t Nguyá»‡t", cost = 50000000000000, damage = 4096000},
	{name = "Tinh VÃ¢n", cost = 100000000000000, damage = 8192000},
	{name = "VÅ© Trá»¥", cost = 500000000000000, damage = 16384000},
	{name = "Há»—n Äá»™n", cost = 1000000000000000, damage = 32768000},
	{name = "ThÃ¡i Cá»±c", cost = 5000000000000000, damage = 65536000},
	{name = "VÃ´ Cá»±c", cost = 10000000000000000, damage = 131072000},
	{name = "Ã‚m DÆ°Æ¡ng NgÆ° Chuyá»ƒn", cost = 50000000000000000, damage = 262144000},
	{name = "NgÅ© HÃ nh Äáº¡i Tráº­n", cost = 100000000000000000, damage = 524288000},
	{name = "BÃ¡t QuÃ¡i Phong VÃ¢n", cost = 500000000000000000, damage = 1048576000},
	{name = "Tháº¥t Tinh LiÃªn ChÃ¢u", cost = 1000000000000000000, damage = 2097152000},
	{name = "Lá»¥c Äáº¡o LuÃ¢n Há»“i", cost = 5000000000000000000, damage = 4194304000},
	{name = "ThiÃªn CÆ°Æ¡ng Äá»‹a SÃ¡t", cost = 10000000000000000000, damage = 8388608000},
	{name = "Váº¡n PhÃ¡p Quy TÃ´ng", cost = 50000000000000000000, damage = 16777216000},
	{name = "Há»“ng Hoang Chi Lá»±c", cost = 100000000000000000000, damage = 33554432000},
	{name = "Khai ThiÃªn TÃ­ch Äá»‹a", cost = 500000000000000000000, damage = 67108864000},
	{name = "Thá»i Gian TÄ©nh Chá»‰", cost = 1000000000000000000000, damage = 134217728000},
	{name = "KhÃ´ng Gian Há»§y Diá»‡t", cost = 5000000000000000000000, damage = 268435456000},
	{name = "NhÃ¢n Quáº£ Äáº£o NgÆ°á»£c", cost = 10000000000000000000000, damage = 536870912000},
	{name = "Má»‡nh Váº­n Chi LuÃ¢n", cost = 50000000000000000000000, damage = 1073741824000},
	{name = "Linh Há»“n ThiÃªu Äá»‘t", cost = 100000000000000000000000, damage = 2147483648000},
	{name = "Váº¡n Kiáº¿p Báº¥t Ma", cost = 500000000000000000000000, damage = 4294967296000},
	{name = "Tháº§n Ma Äá»“ng Tu", cost = 1000000000000000000000000, damage = 8589934592000},
	{name = "Báº¥t Diá»‡t Chi ThÃ¢n", cost = 5000000000000000000000000, damage = 17179869184000},
	{name = "VÄ©nh Háº±ng Chi Lá»±c", cost = 10000000000000000000000000, damage = 34359738368000},
	{name = "Táº¡o HÃ³a Chi Tháº§n", cost = 50000000000000000000000000, damage = 68719476736000},
	{name = "ChÃ¢n LÃ½ Chi Äáº¡o", cost = 100000000000000000000000000, damage = 137438953472000},
	{name = "Váº¡n Äáº¡o Qui Nháº¥t", cost = 500000000000000000000000000, damage = 274877906944000},
	{name = "ThiÃªn Äáº¡o Chi Ngoáº¡i", cost = 1000000000000000000000000000, damage = 549755813888000},
	{name = "SiÃªu Viá»‡t Chi Cáº£nh", cost = 5000000000000000000000000000, damage = 1099511627776000},
	{name = "ChÃ­ Cao VÃ´ ThÆ°á»£ng", cost = 10000000000000000000000000000, damage = 2199023255552000},
	{name = "VÃ´ Song Äáº¿ Thuáº­t", cost = 50000000000000000000000000000, damage = 4398046511104000},
	{name = "Tuyá»‡t Äáº¡i Tháº§n ThÃ´ng", cost = 100000000000000000000000000000, damage = 8796093022208000},
	{name = "BÃ¡ Äáº¡o ThiÃªn Háº¡", cost = 500000000000000000000000000000, damage = 17592186044416000},
	{name = "Váº¡n Cá»• Äá»‡ Nháº¥t", cost = 1000000000000000000000000000000, damage = 35184372088832000},
	{name = "Chá»§ Tá»ƒ Váº¡n Giá»›i", cost = 5000000000000000000000000000000, damage = 70368744177664000}
}

-- DATABASE THá»¬ THÃCH (3 Ä‘á»™ khÃ³)
local challengeDatabase = {
	{
		name = "Thá»­ ThÃ¡ch KhÃ³",
		difficulty = 1,
		boss = {
			name = "Boss KhÃ³ - CÃ¡ Rá»“ng Háº¯c Ãm",
			hp = 1000000000000000,
			damage = 50000000000,
			reward = 100000000000000
		}
	},
	{
		name = "Thá»­ ThÃ¡ch Äá»‹a Ngá»¥c",
		difficulty = 2,
		boss = {
			name = "Boss Äá»‹a Ngá»¥c - Ma Long ThiÃªn TÃ´n",
			hp = 100000000000000000,
			damage = 500000000000,
			reward = 10000000000000000
		}
	},
	{
		name = "Thá»­ ThÃ¡ch Ãc Má»™ng",
		difficulty = 3,
		boss = {
			name = "Boss Ãc Má»™ng - Há»“ng MÃ´ng Thá»§y Tá»•",
			hp = 10000000000000000000,
			damage = 5000000000000,
			reward = 1000000000000000000
		}
	}
}

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- Táº O GUI CHÃNH
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local screenGui = Instance.new("ScreenGui")
screenGui.Name = "FishingGameUI"
screenGui.ResetOnSpawn = false
screenGui.Parent = playerGui

local mainFrame = Instance.new("Frame")
mainFrame.Size = UDim2.new(1, 0, 1, 0)
mainFrame.BackgroundColor3 = Color3.fromRGB(20, 20, 30)
mainFrame.BorderSizePixel = 0
mainFrame.Parent = screenGui

-- Header
local headerFrame = Instance.new("Frame")
headerFrame.Size = UDim2.new(1, 0, 0.1, 0)
headerFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 40)
headerFrame.BorderSizePixel = 0
headerFrame.Parent = mainFrame

local headerCorner = Instance.new("UICorner")
headerCorner.CornerRadius = UDim.new(0, 10)
headerCorner.Parent = headerFrame

local titleLabel = Instance.new("TextLabel")
titleLabel.Size = UDim2.new(0.25, 0, 1, 0)
titleLabel.Position = UDim2.new(0.02, 0, 0, 0)
titleLabel.BackgroundTransparency = 1
titleLabel.Text = "ðŸŽ£ CÃ‚U CÃ Váº N CÃ‚N"
titleLabel.TextColor3 = Color3.fromRGB(255, 215, 0)
titleLabel.Font = Enum.Font.GothamBold
titleLabel.TextScaled = true
titleLabel.Parent = headerFrame

local moneyLabel = Instance.new("TextLabel")
moneyLabel.Size = UDim2.new(0.2, 0, 0.6, 0)
moneyLabel.Position = UDim2.new(0.55, 0, 0.2, 0)
moneyLabel.BackgroundColor3 = Color3.fromRGB(40, 40, 50)
moneyLabel.Text = "ðŸ’° 0"
moneyLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
moneyLabel.Font = Enum.Font.GothamBold
moneyLabel.TextScaled = true
moneyLabel.Parent = headerFrame

local moneyCorner = Instance.new("UICorner")
moneyCorner.CornerRadius = UDim.new(0, 15)
moneyCorner.Parent = moneyLabel

local moneyStroke = Instance.new("UIStroke")
moneyStroke.Color = Color3.fromRGB(255, 215, 0)
moneyStroke.Thickness = 2
moneyStroke.Parent = moneyLabel

local mapLabel = Instance.new("TextLabel")
mapLabel.Size = UDim2.new(0.18, 0, 0.6, 0)
mapLabel.Position = UDim2.new(0.78, 0, 0.2, 0)
mapLabel.BackgroundColor3 = Color3.fromRGB(40, 40, 50)
mapLabel.Text = "ðŸ—ºï¸ Biá»ƒn SÆ¡ Cáº¥p"
mapLabel.TextColor3 = Color3.fromRGB(100, 200, 255)
mapLabel.Font = Enum.Font.GothamBold
mapLabel.TextScaled = true
mapLabel.Parent = headerFrame

local mapCorner = Instance.new("UICorner")
mapCorner.CornerRadius = UDim.new(0, 15)
mapCorner.Parent = mapLabel

local mapStroke = Instance.new("UIStroke")
mapStroke.Color = Color3.fromRGB(100, 200, 255)
mapStroke.Thickness = 2
mapStroke.Parent = mapLabel

-- Navigation
local navFrame = Instance.new("Frame")
navFrame.Size = UDim2.new(1, 0, 0.08, 0)
navFrame.Position = UDim2.new(0, 0, 0.1, 0)
navFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 35)
navFrame.BorderSizePixel = 0
navFrame.Parent = mainFrame

local tabs = {"CÃ¢u CÃ¡", "NhÃ¢n Váº­t", "Cáº§n CÃ¢u", "Äiáº¿u PhÃ¡p", "Cá»­a HÃ ng", "Nhiá»‡m Vá»¥", "Báº£n Äá»“", "Thá»­ ThÃ¡ch"}
local tabButtons = {}
local contentFrames = {}

for i, tabName in ipairs(tabs) do
	local button = Instance.new("TextButton")
	button.Size = UDim2.new(0.115, 0, 0.8, 0)
	button.Position = UDim2.new(0.02 + (i-1) * 0.122, 0, 0.1, 0)
	button.BackgroundColor3 = Color3.fromRGB(40, 40, 50)
	button.Text = tabName
	button.TextColor3 = Color3.fromRGB(255, 255, 255)
	button.Font = Enum.Font.GothamBold
	button.TextScaled = true
	button.Parent = navFrame
	
	local corner = Instance.new("UICorner")
	corner.CornerRadius = UDim.new(0, 12)
	corner.Parent = button
	
	local stroke = Instance.new("UIStroke")
	stroke.Color = Color3.fromRGB(255, 215, 0)
	stroke.Thickness = 2
	stroke.Parent = button
	
	tabButtons[tabName] = button
	
	local contentFrame = Instance.new("Frame")
	contentFrame.Size = UDim2.new(1, 0, 0.82, 0)
	contentFrame.Position = UDim2.new(0, 0, 0.18, 0)
	contentFrame.BackgroundTransparency = 1
	contentFrame.Visible = (i == 1)
	contentFrame.Parent = mainFrame
	
	contentFrames[tabName] = contentFrame
end

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- TAB CÃ‚U CÃ
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local fishingFrame = contentFrames["CÃ¢u CÃ¡"]

local fishDisplayFrame = Instance.new("Frame")
fishDisplayFrame.Size = UDim2.new(0.55, 0, 0.4, 0)
fishDisplayFrame.Position = UDim2.new(0.22, 0, 0.05, 0)
fishDisplayFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 40)
fishDisplayFrame.Parent = fishingFrame

local fishCorner = Instance.new("UICorner")
fishCorner.CornerRadius = UDim.new(0, 15)
fishCorner.Parent = fishDisplayFrame

local fishStroke = Instance.new("UIStroke")
fishStroke.Color = Color3.fromRGB(255, 215, 0)
fishStroke.Thickness = 3
fishStroke.Parent = fishDisplayFrame

local fishNameLabel = Instance.new("TextLabel")
fishNameLabel.Size = UDim2.new(1, 0, 0.18, 0)
fishNameLabel.Position = UDim2.new(0, 0, 0.05, 0)
fishNameLabel.BackgroundTransparency = 1
fishNameLabel.Text = "ðŸŸ Äang cÃ¢u..."
fishNameLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
fishNameLabel.Font = Enum.Font.GothamBold
fishNameLabel.TextScaled = true
fishNameLabel.Parent = fishDisplayFrame

local fishWeightLabel = Instance.new("TextLabel")
fishWeightLabel.Size = UDim2.new(0.48, 0, 0.1, 0)
fishWeightLabel.Position = UDim2.new(0.02, 0, 0.25, 0)
fishWeightLabel.BackgroundTransparency = 1
fishWeightLabel.Text = "âš–ï¸ CÃ¢n náº·ng: 0 kg"
fishWeightLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
fishWeightLabel.Font = Enum.Font.Gotham
fishWeightLabel.TextScaled = true
fishWeightLabel.Parent = fishDisplayFrame

local fishKgLabel = Instance.new("TextLabel")
fishKgLabel.Size = UDim2.new(0.48, 0, 0.1, 0)
fishKgLabel.Position = UDim2.new(0.5, 0, 0.25, 0)
fishKgLabel.BackgroundTransparency = 1
fishKgLabel.Text = "ðŸŽ£ YÃªu cáº§u: 0 kg"
fishKgLabel.TextColor3 = Color3.fromRGB(255, 150, 50)
fishKgLabel.Font = Enum.Font.Gotham
fishKgLabel.TextScaled = true
fishKgLabel.Parent = fishDisplayFrame

local attackLabel = Instance.new("TextLabel")
attackLabel.Size = UDim2.new(1, 0, 0.1, 0)
attackLabel.Position = UDim2.new(0, 0, 0.37, 0)
attackLabel.BackgroundTransparency = 1
fishLabel.Text = ""
attackLabel.TextColor3 = Color3.fromRGB(255, 100, 100)
attackLabel.Font = Enum.Font.GothamBold
attackLabel.TextScaled = true
attackLabel.Parent = fishDisplayFrame

local hpBarBg = Instance.new("Frame")
hpBarBg.Size = UDim2.new(0.92, 0, 0.1, 0)
hpBarBg.Position = UDim2.new(0.04, 0, 0.5, 0)
hpBarBg.BackgroundColor3 = Color3.fromRGB(50, 50, 60)
hpBarBg.Parent = fishDisplayFrame

local hpBarCorner = Instance.new("UICorner")
hpBarCorner.CornerRadius = UDim.new(0, 8)
hpBarCorner.Parent = hpBarBg

local hpBarFill = Instance.new("Frame")
hpBarFill.Size = UDim2.new(1, 0, 1, 0)
hpBarFill.BackgroundColor3 = Color3.fromRGB(255, 50, 50)
hpBarFill.BorderSizePixel = 0
hpBarFill.Parent = hpBarBg

local hpBarFillCorner = Instance.new("UICorner")
hpBarFillCorner.CornerRadius = UDim.new(0, 8)
hpBarFillCorner.Parent = hpBarFill

local hpTextLabel = Instance.new("TextLabel")
hpTextLabel.Size = UDim2.new(1, 0, 1, 0)
hpTextLabel.BackgroundTransparency = 1
hpTextLabel.Text = "HP: 0/0"
hpTextLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
hpTextLabel.Font = Enum.Font.GothamBold
hpTextLabel.TextScaled = true
hpTextLabel.Parent = hpBarBg

local damageLabel = Instance.new("TextLabel")
damageLabel.Size = UDim2.new(1, 0, 0.13, 0)
damageLabel.Position = UDim2.new(0, 0, 0.65, 0)
damageLabel.BackgroundTransparency = 1
damageLabel.Text = "âš”ï¸ Dame: 10"
damageLabel.TextColor3 = Color3.fromRGB(255, 215, 0)
damageLabel.Font = Enum.Font.GothamBold
damageLabel.TextScaled = true
damageLabel.Parent = fishDisplayFrame

local playerHpLabel = Instance.new("TextLabel")
playerHpLabel.Size = UDim2.new(1, 0, 0.1, 0)
playerHpLabel.Position = UDim2.new(0, 0, 0.82, 0)
playerHpLabel.BackgroundTransparency = 1
playerHpLabel.Text = "â¤ï¸ HP NhÃ¢n Váº­t: 100/100"
playerHpLabel.TextColor3 = Color3.fromRGB(255, 100, 100)
playerHpLabel.Font = Enum.Font.GothamBold
playerHpLabel.TextScaled = true
playerHpLabel.Parent = fishDisplayFrame

-- NÃºt XOAY Cáº¦N
local fishButton = Instance.new("TextButton")
fishButton.Size = UDim2.new(0.2, 0, 0.2, 0)
fishButton.Position = UDim2.new(0.15, 0, 0.55, 0)
fishButton.BackgroundColor3 = Color3.fromRGB(255, 100, 100)
fishButton.Text = "ðŸŽ£\nXOAY Cáº¦N"
fishButton.TextColor3 = Color3.fromRGB(255, 255, 255)
fishButton.Font = Enum.Font.GothamBold
fishButton.TextScaled = true
fishButton.Parent = fishingFrame

local fishButtonCorner = Instance.new("UICorner")
fishButtonCorner.CornerRadius = UDim.new(1, 0)
fishButtonCorner.Parent = fishButton

local fishButtonStroke = Instance.new("UIStroke")
fishButtonStroke.Color = Color3.fromRGB(255, 215, 0)
fishButtonStroke.Thickness = 4
fishButtonStroke.Parent = fishButton

-- NÃºt THáº¢ CÃ
local releaseFishButton = Instance.new("TextButton")
releaseFishButton.Size = UDim2.new(0.2, 0, 0.2, 0)
releaseFishButton.Position = UDim2.new(0.65, 0, 0.55, 0)
releaseFishButton.BackgroundColor3 = Color3.fromRGB(100, 100, 255)
releaseFishButton.Text = "ðŸŒŠ\nTHáº¢ CÃ"
releaseFishButton.TextColor3 = Color3.fromRGB(255, 255, 255)
releaseFishButton.Font = Enum.Font.GothamBold
releaseFishButton.TextScaled = true
releaseFishButton.Parent = fishingFrame

local releaseCorner = Instance.new("UICorner")
releaseCorner.CornerRadius = UDim.new(1, 0)
releaseCorner.Parent = releaseFishButton

local releaseStroke = Instance.new("UIStroke")
releaseStroke.Color = Color3.fromRGB(100, 200, 255)
releaseStroke.Thickness = 4
releaseStroke.Parent = releaseFishButton

-- Mini Map
local miniMapFrame = Instance.new("Frame")
miniMapFrame.Size = UDim2.new(0.35, 0, 0.25, 0)
miniMapFrame.Position = UDim2.new(0.62, 0, 0.7, 0)
miniMapFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 40)
miniMapFrame.Parent = fishingFrame

local miniMapCorner = Instance.new("UICorner")
miniMapCorner.CornerRadius = UDim.new(0, 15)
miniMapCorner.Parent = miniMapFrame

local miniMapStroke = Instance.new("UIStroke")
miniMapStroke.Color = Color3.fromRGB(255, 215, 0)
miniMapStroke.Thickness = 2
miniMapStroke.Parent = miniMapFrame

local miniMapTitle = Instance.new("TextLabel")
miniMapTitle.Size = UDim2.new(1, 0, 0.2, 0)
miniMapTitle.BackgroundTransparency = 1
miniMapTitle.Text = "ðŸ—ºï¸ Báº¢N Äá»’ CÃ"
miniMapTitle.TextColor3 = Color3.fromRGB(255, 215, 0)
miniMapTitle.Font = Enum.Font.GothamBold
miniMapTitle.TextScaled = true
miniMapTitle.Parent = miniMapFrame

local miniMapScroll = Instance.new("ScrollingFrame")
miniMapScroll.Size = UDim2.new(0.95, 0, 0.75, 0)
miniMapScroll.Position = UDim2.new(0.025, 0, 0.23, 0)
miniMapScroll.BackgroundTransparency = 1
miniMapScroll.ScrollBarThickness = 6
miniMapScroll.Parent = miniMapFrame

local miniMapList = Instance.new("UIListLayout")
miniMapList.Padding = UDim.new(0, 3)
miniMapList.Parent = miniMapScroll

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- TAB NHÃ‚N Váº¬T (Giá»‘ng nhÆ° trÆ°á»›c)
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local characterFrame = contentFrames["NhÃ¢n Váº­t"]

local equippedFrame = Instance.new("Frame")
equippedFrame.Size = UDim2.new(0.95, 0, 0.25, 0)
equippedFrame.Position = UDim2.new(0.025, 0, 0.02, 0)
equippedFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 40)
equippedFrame.Parent = characterFrame

local equippedCorner = Instance.new("UICorner")
equippedCorner.CornerRadius = UDim.new(0, 15)
equippedCorner.Parent = equippedFrame

local equippedStroke = Instance.new("UIStroke")
equippedStroke.Color = Color3.fromRGB(255, 215, 0)
equippedStroke.Thickness = 2
equippedStroke.Parent = equippedFrame

local equippedTitle = Instance.new("TextLabel")
equippedTitle.Size = UDim2.new(1, 0, 0.25, 0)
equippedTitle.BackgroundTransparency = 1
equippedTitle.Text = "ðŸ‘¥ NHÃ‚N Váº¬T TRANG Bá»Š (Tá»‘i Ä‘a 3)"
equippedTitle.TextColor3 = Color3.fromRGB(255, 215, 0)
equippedTitle.Font = Enum.Font.GothamBold
equippedTitle.TextScaled = true
equippedTitle.Parent = equippedFrame

local equippedSlotsFrame = Instance.new("Frame")
equippedSlotsFrame.Size = UDim2.new(1, 0, 0.7, 0)
equippedSlotsFrame.Position = UDim2.new(0, 0, 0.28, 0)
equippedSlotsFrame.BackgroundTransparency = 1
equippedSlotsFrame.Parent = equippedFrame

local equippedSlots = {}
for i = 1, 3 do
	local slot = Instance.new("Frame")
	slot.Size = UDim2.new(0.3, 0, 0.9, 0)
	slot.Position = UDim2.new(0.05 + (i-1) * 0.32, 0, 0.05, 0)
	slot.BackgroundColor3 = Color3.fromRGB(40, 40, 50)
	slot.Parent = equippedSlotsFrame
	
	local slotCorner = Instance.new("UICorner")
	slotCorner.CornerRadius = UDim.new(0, 12)
	slotCorner.Parent = slot
	
	local slotLabel = Instance.new("TextLabel")
	slotLabel.Size = UDim2.new(1, 0, 0.5, 0)
	slotLabel.BackgroundTransparency = 1
	slotLabel.Text = "Trá»‘ng"
	slotLabel.TextColor3 = Color3.fromRGB(150, 150, 150)
	slotLabel.Font = Enum.Font.Gotham
	slotLabel.TextScaled = true
	slotLabel.Parent = slot
	
	local hpLabel = Instance.new("TextLabel")
	hpLabel.Size = UDim2.new(1, 0, 0.3, 0)
	hpLabel.Position = UDim2.new(0, 0, 0.6, 0)
	hpLabel.BackgroundTransparency = 1
	hpLabel.Text = ""
	hpLabel.TextColor3 = Color3.fromRGB(255, 100, 100)
	hpLabel.Font = Enum.Font.Gotham
	hpLabel.TextScaled = true
	hpLabel.Parent = slot
	
	equippedSlots[i] = {frame = slot, label = slotLabel, hpLabel = hpLabel}
end

local charShopScroll = Instance.new("ScrollingFrame")
charShopScroll.Size = UDim2.new(0.95, 0, 0.68, 0)
charShopScroll.Position = UDim2.new(0.025, 0, 0.3, 0)
charShopScroll.BackgroundColor3 = Color3.fromRGB(25, 25, 35)
charShopScroll.ScrollBarThickness = 8
charShopScroll.Parent = characterFrame

local charShopCorner = Instance.new("UICorner")
charShopCorner.CornerRadius = UDim.new(0, 15)
charShopCorner.Parent = charShopScroll

local charShopList = Instance.new("UIListLayout")
charShopList.Padding = UDim.new(0, 10)
charShopList.Parent = charShopScroll

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- TAB Cáº¦N CÃ‚U
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local rodFrame = contentFrames["Cáº§n CÃ¢u"]

local equippedRodFrame = Instance.new("Frame")
equippedRodFrame.Size = UDim2.new(0.95, 0, 0.2, 0)
equippedRodFrame.Position = UDim2.new(0.025, 0, 0.02, 0)
equippedRodFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 40)
equippedRodFrame.Parent = rodFrame

local equippedRodCorner = Instance.new("UICorner")
equippedRodCorner.CornerRadius = UDim.new(0, 15)
equippedRodCorner.Parent = equippedRodFrame

local equippedRodStroke = Instance.new("UIStroke")
equippedRodStroke.Color = Color3.fromRGB(255, 215, 0)
equippedRodStroke.Thickness = 2
equippedRodStroke.Parent = equippedRodFrame

local equippedRodLabel = Instance.new("TextLabel")
equippedRodLabel.Size = UDim2.new(1, 0, 0.4, 0)
equippedRodLabel.Position = UDim2.new(0, 0, 0.1, 0)
equippedRodLabel.BackgroundTransparency = 1
equippedRodLabel.Text = "ðŸŽ£ Cáº¦N ÄANG DÃ™NG: Cáº§n tre"
equippedRodLabel.TextColor3 = Color3.fromRGB(255, 215, 0)
equippedRodLabel.Font = Enum.Font.GothamBold
equippedRodLabel.TextScaled = true
equippedRodLabel.Parent = equippedRodFrame

local equippedRodStats = Instance.new("TextLabel")
equippedRodStats.Size = UDim2.new(1, 0, 0.35, 0)
equippedRodStats.Position = UDim2.new(0, 0, 0.55, 0)
equippedRodStats.BackgroundTransparency = 1
equippedRodStats.Text = "âš”ï¸ Dame: 10 | ðŸ›¡ï¸ Äá»™ bá»n: 100 | ðŸŽ£ Max: 10kg"
equippedRodStats.TextColor3 = Color3.fromRGB(200, 200, 200)
equippedRodStats.Font = Enum.Font.Gotham
equippedRodStats.TextScaled = true
equippedRodStats.Parent = equippedRodFrame

local rodShopScroll = Instance.new("ScrollingFrame")
rodShopScroll.Size = UDim2.new(0.95, 0, 0.73, 0)
rodShopScroll.Position = UDim2.new(0.025, 0, 0.25, 0)
rodShopScroll.BackgroundColor3 = Color3.fromRGB(25, 25, 35)
rodShopScroll.ScrollBarThickness = 8
rodShopScroll.Parent = rodFrame

local rodShopCorner = Instance.new("UICorner")
rodShopCorner.CornerRadius = UDim.new(0, 15)
rodShopCorner.Parent = rodShopScroll

local rodShopList = Instance.new("UIListLayout")
rodShopList.Padding = UDim.new(0, 10)
rodShopList.Parent = rodShopScroll

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- TAB ÄIáº¾U PHÃP
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local magicFrame = contentFrames["Äiáº¿u PhÃ¡p"]

local equippedMagicFrame = Instance.new("Frame")
equippedMagicFrame.Size = UDim2.new(0.3, 0, 0.95, 0)
equippedMagicFrame.Position = UDim2.new(0.68, 0, 0.02, 0)
equippedMagicFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 40)
equippedMagicFrame.Parent = magicFrame

local equippedMagicCorner = Instance.new("UICorner")
equippedMagicCorner.CornerRadius = UDim.new(0, 15)
equippedMagicCorner.Parent = equippedMagicFrame

local equippedMagicStroke = Instance.new("UIStroke")
equippedMagicStroke.Color = Color3.fromRGB(255, 215, 0)
equippedMagicStroke.Thickness = 2
equippedMagicStroke.Parent = equippedMagicFrame

local equippedMagicTitle = Instance.new("TextLabel")
equippedMagicTitle.Size = UDim2.new(1, 0, 0.08, 0)
equippedMagicTitle.BackgroundTransparency = 1
equippedMagicTitle.Text = "âœ¨ TRANG Bá»Š"
equippedMagicTitle.TextColor3 = Color3.fromRGB(255, 215, 0)
equippedMagicTitle.Font = Enum.Font.GothamBold
equippedMagicTitle.TextScaled = true
equippedMagicTitle.Parent = equippedMagicFrame

local magicSlots = {}
for i = 1, 4 do
	local row = math.ceil(i / 2)
	local col = (i - 1) % 2
	
	local slot = Instance.new("Frame")
	slot.Size = UDim2.new(0.42, 0, 0.2, 0)
	slot.Position = UDim2.new(0.08 + col * 0.5, 0, 0.12 + (row - 1) * 0.23, 0)
	slot.BackgroundColor3 = Color3.fromRGB(20, 20, 30)
	slot.Parent = equippedMagicFrame
	
	local slotCorner = Instance.new("UICorner")
	slotCorner.CornerRadius = UDim.new(0, 12)
	slotCorner.Parent = slot
	
	local slotStroke = Instance.new("UIStroke")
	slotStroke.Color = Color3.fromRGB(100, 100, 120)
	slotStroke.Thickness = 2
	slotStroke.Parent = slot
	
	local slotLabel = Instance.new("TextLabel")
	slotLabel.Size = UDim2.new(1, 0, 0.5, 0)
	slotLabel.BackgroundTransparency = 1
	slotLabel.Text = "Trá»‘ng"
	slotLabel.TextColor3 = Color3.fromRGB(100, 100, 120)
	slotLabel.Font = Enum.Font.Gotham
	slotLabel.TextScaled = true
	slotLabel.Parent = slot
	
	local damageLabel = Instance.new("TextLabel")
	damageLabel.Size = UDim2.new(1, 0, 0.35, 0)
	damageLabel.Position = UDim2.new(0, 0, 0.6, 0)
	damageLabel.BackgroundTransparency = 1
	damageLabel.Text = ""
	damageLabel.TextColor3 = Color3.fromRGB(255, 100, 100)
	damageLabel.Font = Enum.Font.Gotham
	damageLabel.TextScaled = true
	damageLabel.Parent = slot
	
	magicSlots[i] = {frame = slot, label = slotLabel, damageLabel = damageLabel}
end

local magicShopScroll = Instance.new("ScrollingFrame")
magicShopScroll.Size = UDim2.new(0.65, 0, 0.95, 0)
magicShopScroll.Position = UDim2.new(0.02, 0, 0.02, 0)
magicShopScroll.BackgroundColor3 = Color3.fromRGB(25, 25, 35)
magicShopScroll.ScrollBarThickness = 8
magicShopScroll.Parent = magicFrame

local magicShopCorner = Instance.new("UICorner")
magicShopCorner.CornerRadius = UDim.new(0, 15)
magicShopCorner.Parent = magicShopScroll

local magicShopList = Instance.new("UIListLayout")
magicShopList.Padding = UDim.new(0, 10)
magicShopList.Parent = magicShopScroll

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- TAB Cá»¬A HÃ€NG
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local shopFrame = contentFrames["Cá»­a HÃ ng"]

local shopTitle = Instance.new("TextLabel")
shopTitle.Size = UDim2.new(0.95, 0, 0.1, 0)
shopTitle.Position = UDim2.new(0.025, 0, 0.02, 0)
shopTitle.BackgroundColor3 = Color3.fromRGB(30, 30, 40)
shopTitle.Text = "ðŸª Cá»¬A HÃ€NG BÃN CÃ (Tá»‰ lá»‡ 7% bonus 200%)"
shopTitle.TextColor3 = Color3.fromRGB(255, 215, 0)
shopTitle.Font = Enum.Font.GothamBold
shopTitle.TextScaled = true
shopTitle.Parent = shopFrame

local shopTitleCorner = Instance.new("UICorner")
shopTitleCorner.CornerRadius = UDim.new(0, 15)
shopTitleCorner.Parent = shopTitle

local shopTitleStroke = Instance.new("UIStroke")
shopTitleStroke.Color = Color3.fromRGB(255, 215, 0)
shopTitleStroke.Thickness = 2
shopTitleStroke.Parent = shopTitle

local inventoryScroll = Instance.new("ScrollingFrame")
inventoryScroll.Size = UDim2.new(0.95, 0, 0.83, 0)
inventoryScroll.Position = UDim2.new(0.025, 0, 0.14, 0)
inventoryScroll.BackgroundColor3 = Color3.fromRGB(25, 25, 35)
inventoryScroll.ScrollBarThickness = 8
inventoryScroll.Parent = shopFrame

local inventoryCorner = Instance.new("UICorner")
inventoryCorner.CornerRadius = UDim.new(0, 15)
inventoryCorner.Parent = inventoryScroll

local inventoryList = Instance.new("UIListLayout")
inventoryList.Padding = UDim.new(0, 10)
inventoryList.Parent = inventoryScroll

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- TAB NHIá»†M Vá»¤
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local questFrame = contentFrames["Nhiá»‡m Vá»¥"]

local questTitle = Instance.new("TextLabel")
questTitle.Size = UDim2.new(0.95, 0, 0.1, 0)
questTitle.Position = UDim2.new(0.025, 0, 0.02, 0)
questTitle.BackgroundColor3 = Color3.fromRGB(30, 30, 40)
questTitle.Text = "ðŸ“œ NHIá»†M Vá»¤ NHÃ‚N Váº¬T & Cáº¦N CÃ‚U"
questTitle.TextColor3 = Color3.fromRGB(255, 215, 0)
questTitle.Font = Enum.Font.GothamBold
questTitle.TextScaled = true
questTitle.Parent = questFrame

local questTitleCorner = Instance.new("UICorner")
questTitleCorner.CornerRadius = UDim.new(0, 15)
questTitleCorner.Parent = questTitle

local questTitleStroke = Instance.new("UIStroke")
questTitleStroke.Color = Color3.fromRGB(255, 215, 0)
questTitleStroke.Thickness = 2
questTitleStroke.Parent = questTitle

local questScroll = Instance.new("ScrollingFrame")
questScroll.Size = UDim2.new(0.95, 0, 0.83, 0)
questScroll.Position = UDim2.new(0.025, 0, 0.14, 0)
questScroll.BackgroundColor3 = Color3.fromRGB(25, 25, 35)
questScroll.ScrollBarThickness = 8
questScroll.Parent = questFrame

local questScrollCorner = Instance.new("UICorner")
questScrollCorner.CornerRadius = UDim.new(0, 15)
questScrollCorner.Parent = questScroll

local questList = Instance.new("UIListLayout")
questList.Padding = UDim.new(0, 10)
questList.Parent = questScroll

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- TAB Báº¢N Äá»’
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local mapFrame = contentFrames["Báº£n Äá»“"]

local mapTitleLabel = Instance.new("TextLabel")
mapTitleLabel.Size = UDim2.new(0.95, 0, 0.1, 0)
mapTitleLabel.Position = UDim2.new(0.025, 0, 0.02, 0)
mapTitleLabel.BackgroundColor3 = Color3.fromRGB(30, 30, 40)
mapTitleLabel.Text = "ðŸ—ºï¸ Báº¢N Äá»’ CÃ‚U CÃ (17 báº£n Ä‘á»“)"
mapTitleLabel.TextColor3 = Color3.fromRGB(255, 215, 0)
mapTitleLabel.Font = Enum.Font.GothamBold
mapTitleLabel.TextScaled = true
mapTitleLabel.Parent = mapFrame

local mapTitleCorner = Instance.new("UICorner")
mapTitleCorner.CornerRadius = UDim.new(0, 15)
mapTitleCorner.Parent = mapTitleLabel

local mapTitleStroke = Instance.new("UIStroke")
mapTitleStroke.Color = Color3.fromRGB(255, 215, 0)
mapTitleStroke.Thickness = 2
mapTitleStroke.Parent = mapTitleLabel

local mapScroll = Instance.new("ScrollingFrame")
mapScroll.Size = UDim2.new(0.95, 0, 0.83, 0)
mapScroll.Position = UDim2.new(0.025, 0, 0.14, 0)
mapScroll.BackgroundColor3 = Color3.fromRGB(25, 25, 35)
mapScroll.ScrollBarThickness = 8
mapScroll.Parent = mapFrame

local mapScrollCorner = Instance.new("UICorner")
mapScrollCorner.CornerRadius = UDim.new(0, 15)
mapScrollCorner.Parent = mapScroll

local mapListLayout = Instance.new("UIListLayout")
mapListLayout.Padding = UDim.new(0, 10)
mapListLayout.Parent = mapScroll

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- TAB THá»¬ THÃCH
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local challengeFrame = contentFrames["Thá»­ ThÃ¡ch"]

local challengeTitleLabel = Instance.new("TextLabel")
challengeTitleLabel.Size = UDim2.new(0.95, 0, 0.1, 0)
challengeTitleLabel.Position = UDim2.new(0.025, 0, 0.02, 0)
challengeTitleLabel.BackgroundColor3 = Color3.fromRGB(30, 30, 40)
challengeTitleLabel.Text = "âš”ï¸ THá»¬ THÃCH BOSS (3 Ä‘á»™ khÃ³)"
challengeTitleLabel.TextColor3 = Color3.fromRGB(255, 50, 50)
challengeTitleLabel.Font = Enum.Font.GothamBold
challengeTitleLabel.TextScaled = true
challengeTitleLabel.Parent = challengeFrame

local challengeTitleCorner = Instance.new("UICorner")
challengeTitleCorner.CornerRadius = UDim.new(0, 15)
challengeTitleCorner.Parent = challengeTitleLabel

local challengeTitleStroke = Instance.new("UIStroke")
challengeTitleStroke.Color = Color3.fromRGB(255, 50, 50)
challengeTitleStroke.Thickness = 2
challengeTitleStroke.Parent = challengeTitleLabel

local challengeScroll = Instance.new("ScrollingFrame")
challengeScroll.Size = UDim2.new(0.95, 0, 0.83, 0)
challengeScroll.Position = UDim2.new(0.025, 0, 0.14, 0)
challengeScroll.BackgroundColor3 = Color3.fromRGB(25, 25, 35)
challengeScroll.ScrollBarThickness = 8
challengeScroll.Parent = challengeFrame

local challengeScrollCorner = Instance.new("UICorner")
challengeScrollCorner.CornerRadius = UDim.new(0, 15)
challengeScrollCorner.Parent = challengeScroll

local challengeListLayout = Instance.new("UIListLayout")
challengeListLayout.Padding = UDim.new(0, 15)
challengeListLayout.Parent = challengeScroll

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- HÃ€M Cáº¬P NHáº¬T UI
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local function updateMoneyDisplay()
	moneyLabel.Text = "ðŸ’° " .. formatNumber(gameData.money)
end

local function updateMapDisplay()
	mapLabel.Text = "ðŸ—ºï¸ " .. gameData.currentMap
	for _, mapData in ipairs(mapDatabase) do
		if mapData.name == gameData.currentMap then
			mapStroke.Color = mapData.color
			break
		end
	end
end

local function updateFishDisplay()
	if gameData.currentFish then
		local fish = gameData.currentFish
		fishNameLabel.Text = "ðŸŸ " .. fish.name
		fishWeightLabel.Text = "âš–ï¸ CÃ¢n náº·ng: " .. fish.weight .. " kg"
		fishKgLabel.Text = "ðŸŽ£ YÃªu cáº§u: " .. (fish.kg or 0) .. " kg"
		
		if fish.canAttack then
			attackLabel.Text = "âš ï¸ CÃ CÃ“ THá»‚ Táº¤N CÃ”NG! Dame: " .. formatNumber(fish.attackDamage)
		else
			attackLabel.Text = ""
		end
		
		local hpPercent = fish.currentHp / fish.maxHp
		hpBarFill.Size = UDim2.new(hpPercent, 0, 1, 0)
		hpTextLabel.Text = "HP: " .. formatNumber(fish.currentHp) .. "/" .. formatNumber(fish.maxHp)
		
		if fish.type == "special" then
			fishNameLabel.TextColor3 = Color3.fromRGB(255, 100, 255)
		elseif fish.type == "legendary" then
			fishNameLabel.TextColor3 = Color3.fromRGB(255, 200, 0)
		elseif fish.type == "giant" then
			fishNameLabel.TextColor3 = Color3.fromRGB(255, 150, 0)
		else
			fishNameLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
		end
	end
end

local function calculatePlayerMaxHp()
	local totalHp = 100
	for _, charName in ipairs(gameData.equippedCharacters) do
		for _, char in ipairs(characterDatabase) do
			if char.name == charName then
				totalHp = totalHp + char.hp
				break
			end
		end
	end
	return totalHp
end

local function updatePlayerHp()
	local maxHp = calculatePlayerMaxHp()
	if not gameData.playerCurrentHp then
		gameData.playerCurrentHp = maxHp
	end
	
	if gameData.playerCurrentHp > maxHp then
		gameData.playerCurrentHp = maxHp
	end
	
	playerHpLabel.Text = "â¤ï¸ HP NhÃ¢n Váº­t: " .. formatNumber(gameData.playerCurrentHp) .. "/" .. formatNumber(maxHp)
end

local function calculateTotalDamage()
	local rodData = nil
	for _, rod in ipairs(rodDatabase) do
		if rod.name == gameData.equippedRod then
			rodData = rod
			break
		end
	end
	
	local rodDamage = rodData and rodData.damage or 10
	local magicDamage = 0
	
	for _, magicName in ipairs(gameData.equippedMagic) do
		for _, magic in ipairs(magicDatabase) do
			if magic.name == magicName then
				magicDamage = magic
Damage = magicDamage + magic.damage
				break
			end
		end
	end
	
	local characterMultiplier = 1
	for _, charName in ipairs(gameData.equippedCharacters) do
		for _, char in ipairs(characterDatabase) do
			if char.name == charName then
				characterMultiplier = characterMultiplier * char.multiplier
				break
			end
		end
	end
	
	local totalDamage = (rodDamage + magicDamage) * characterMultiplier
	damageLabel.Text = "âš”ï¸ Dame: " .. formatNumber(totalDamage)
	
	return totalDamage
end

local function spawnNewFish()
	local currentMapFish = generateFishForMap(1)
	for _, mapData in ipairs(mapDatabase) do
		if mapData.name == gameData.currentMap then
			currentMapFish = generateFishForMap(mapData.difficulty)
			break
		end
	end
	
	local randomFish = currentMapFish[math.random(1, #currentMapFish)]
	gameData.currentFish = {
		name = randomFish.name,
		maxHp = randomFish.hp,
		currentHp = randomFish.hp,
		weight = randomFish.weight,
		money = randomFish.money,
		type = randomFish.type,
		kg = randomFish.kg or 0,
		sellPrice = randomFish.sellPrice or randomFish.money * 2,
		canAttack = randomFish.canAttack,
		attackDamage = randomFish.attackDamage or 0,
		mapLevel = randomFish.mapLevel
	}
	updateFishDisplay()
	updateMiniMap()
end

local function updateMiniMap()
	for _, child in ipairs(miniMapScroll:GetChildren()) do
		if child:IsA("Frame") then
			child:Destroy()
		end
	end
	
	local currentMapFish = generateFishForMap(1)
	for _, mapData in ipairs(mapDatabase) do
		if mapData.name == gameData.currentMap then
			currentMapFish = generateFishForMap(mapData.difficulty)
			break
		end
	end
	
	local displayCount = math.min(#currentMapFish, 15)
	for i = 1, displayCount do
		local fish = currentMapFish[i]
		local item = Instance.new("Frame")
		item.Size = UDim2.new(1, 0, 0, 28)
		item.BackgroundColor3 = Color3.fromRGB(40, 40, 50)
		item.Parent = miniMapScroll
		
		local itemCorner = Instance.new("UICorner")
		itemCorner.CornerRadius = UDim.new(0, 8)
		itemCorner.Parent = item
		
		local nameLabel = Instance.new("TextLabel")
		nameLabel.Size = UDim2.new(0.45, 0, 1, 0)
		nameLabel.Position = UDim2.new(0.02, 0, 0, 0)
		nameLabel.BackgroundTransparency = 1
		nameLabel.Text = fish.name
		nameLabel.TextXAlignment = Enum.TextXAlignment.Left
		nameLabel.Font = Enum.Font.Gotham
		nameLabel.TextSize = 10
		nameLabel.Parent = item
		
		if fish.type == "special" then
			nameLabel.TextColor3 = Color3.fromRGB(255, 100, 255)
		elseif fish.type == "legendary" then
			nameLabel.TextColor3 = Color3.fromRGB(255, 200, 0)
		elseif fish.type == "giant" then
			nameLabel.TextColor3 = Color3.fromRGB(255, 150, 0)
		else
			nameLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
		end
		
		local weightLabel = Instance.new("TextLabel")
		weightLabel.Size = UDim2.new(0.25, 0, 1, 0)
		weightLabel.Position = UDim2.new(0.48, 0, 0, 0)
		weightLabel.BackgroundTransparency = 1
		weightLabel.Text = fish.weight .. "kg"
		weightLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
		weightLabel.Font = Enum.Font.Gotham
		weightLabel.TextSize = 9
		weightLabel.Parent = item
		
		local kgLabel = Instance.new("TextLabel")
		kgLabel.Size = UDim2.new(0.23, 0, 1, 0)
		kgLabel.Position = UDim2.new(0.75, 0, 0, 0)
		kgLabel.BackgroundTransparency = 1
		kgLabel.Text = "ðŸŽ£" .. (fish.kg or 0)
		kgLabel.TextColor3 = Color3.fromRGB(255, 150, 50)
		kgLabel.Font = Enum.Font.Gotham
		kgLabel.TextSize = 9
		kgLabel.Parent = item
	end
	
	miniMapScroll.CanvasSize = UDim2.new(0, 0, 0, miniMapList.AbsoluteContentSize.Y)
end

local function updateEquippedCharacters()
	for i = 1, 3 do
		local slot = equippedSlots[i]
		if gameData.equippedCharacters[i] then
			local charName = gameData.equippedCharacters[i]
			slot.label.Text = charName
			slot.label.TextColor3 = Color3.fromRGB(255, 215, 0)
			
			for _, char in ipairs(characterDatabase) do
				if char.name == charName then
					slot.hpLabel.Text = "â¤ï¸ HP: " .. formatNumber(char.hp) .. " | x" .. formatNumber(char.multiplier)
					break
				end
			end
		else
			slot.label.Text = "Trá»‘ng"
			slot.label.TextColor3 = Color3.fromRGB(150, 150, 150)
			slot.hpLabel.Text = ""
		end
	end
	calculateTotalDamage()
	updatePlayerHp()
end

local function updateEquippedRod()
	equippedRodLabel.Text = "ðŸŽ£ Cáº¦N ÄANG DÃ™NG: " .. gameData.equippedRod
	
	for _, rod in ipairs(rodDatabase) do
		if rod.name == gameData.equippedRod then
			equippedRodStats.Text = "âš”ï¸ Dame: " .. formatNumber(rod.damage) .. " | ðŸ›¡ï¸ Äá»™ bá»n: " .. formatNumber(rod.durability) .. " | ðŸŽ£ Max: " .. formatNumber(rod.maxKg) .. "kg"
			break
		end
	end
	calculateTotalDamage()
end

local function updateEquippedMagic()
	for i = 1, 4 do
		local slot = magicSlots[i]
		if gameData.equippedMagic[i] then
			local magicName = gameData.equippedMagic[i]
			slot.label.Text = magicName
			slot.label.TextColor3 = Color3.fromRGB(100, 200, 255)
			
			for _, magic in ipairs(magicDatabase) do
				if magic.name == magicName then
					slot.damageLabel.Text = "âš”ï¸ " .. formatNumber(magic.damage)
					break
				end
			end
			
			slot.frame.BackgroundColor3 = Color3.fromRGB(40, 40, 60)
		else
			slot.label.Text = "Trá»‘ng"
			slot.label.TextColor3 = Color3.fromRGB(100, 100, 120)
			slot.damageLabel.Text = ""
			slot.frame.BackgroundColor3 = Color3.fromRGB(20, 20, 30)
		end
	end
	calculateTotalDamage()
end

local function updateInventory()
	for _, child in ipairs(inventoryScroll:GetChildren()) do
		if child:IsA("Frame") then
			child:Destroy()
		end
	end
	
	for fishName, count in pairs(gameData.inventory) do
		if count > 0 then
			local fishData = nil
			local currentMapFish = generateFishForMap(1)
			
			for difficulty = 1, 17 do
				local mapFish = generateFishForMap(difficulty)
				for _, fish in ipairs(mapFish) do
					if fish.name == fishName then
						fishData = fish
						break
					end
				end
				if fishData then break end
			end
			
			if fishData then
				local item = Instance.new("Frame")
				item.Size = UDim2.new(1, -10, 0, 80)
				item.BackgroundColor3 = Color3.fromRGB(35, 35, 45)
				item.Parent = inventoryScroll
				
				local itemCorner = Instance.new("UICorner")
				itemCorner.CornerRadius = UDim.new(0, 12)
				itemCorner.Parent = item
				
				local nameLabel = Instance.new("TextLabel")
				nameLabel.Size = UDim2.new(0.3, 0, 0.35, 0)
				nameLabel.Position = UDim2.new(0.03, 0, 0.1, 0)
				nameLabel.BackgroundTransparency = 1
				nameLabel.Text = fishData.name
				nameLabel.TextColor3 = Color3.fromRGB(255, 215, 0)
				nameLabel.Font = Enum.Font.GothamBold
				nameLabel.TextScaled = true
				nameLabel.TextXAlignment = Enum.TextXAlignment.Left
				nameLabel.Parent = item
				
				local countLabel = Instance.new("TextLabel")
				countLabel.Size = UDim2.new(0.3, 0, 0.25, 0)
				countLabel.Position = UDim2.new(0.03, 0, 0.5, 0)
				countLabel.BackgroundTransparency = 1
				countLabel.Text = "Sá»‘ lÆ°á»£ng: " .. count
				countLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
				countLabel.Font = Enum.Font.Gotham
				countLabel.TextSize = 14
				countLabel.TextXAlignment = Enum.TextXAlignment.Left
				countLabel.Parent = item
				
				local priceLabel = Instance.new("TextLabel")
				priceLabel.Size = UDim2.new(0.3, 0, 0.25, 0)
				priceLabel.Position = UDim2.new(0.03, 0, 0.7, 0)
				priceLabel.BackgroundTransparency = 1
				priceLabel.Text = "GiÃ¡: ðŸ’° " .. formatNumber(fishData.sellPrice)
				priceLabel.TextColor3 = Color3.fromRGB(255, 255, 100)
				priceLabel.Font = Enum.Font.Gotham
				priceLabel.TextSize = 13
				priceLabel.TextXAlignment = Enum.TextXAlignment.Left
				priceLabel.Parent = item
				
				local sellButton = Instance.new("TextButton")
				sellButton.Size = UDim2.new(0.2, 0, 0.4, 0)
				sellButton.Position = UDim2.new(0.4, 0, 0.15, 0)
				sellButton.BackgroundColor3 = Color3.fromRGB(50, 150, 50)
				sellButton.Text = "BÃN 1"
				sellButton.TextColor3 = Color3.fromRGB(255, 255, 255)
				sellButton.Font = Enum.Font.GothamBold
				sellButton.TextScaled = true
				sellButton.Parent = item
				
				local sellCorner = Instance.new("UICorner")
				sellCorner.CornerRadius = UDim.new(0, 10)
				sellCorner.Parent = sellButton
				
				local sellAllButton = Instance.new("TextButton")
				sellAllButton.Size = UDim2.new(0.25, 0, 0.4, 0)
				sellAllButton.Position = UDim2.new(0.65, 0, 0.15, 0)
				sellAllButton.BackgroundColor3 = Color3.fromRGB(100, 150, 50)
				sellAllButton.Text = "BÃN Táº¤T Cáº¢"
				sellAllButton.TextColor3 = Color3.fromRGB(255, 255, 255)
				sellAllButton.Font = Enum.Font.GothamBold
				sellAllButton.TextScaled = true
				sellAllButton.Parent = item
				
				local sellAllCorner = Instance.new("UICorner")
				sellAllCorner.CornerRadius = UDim.new(0, 10)
				sellAllCorner.Parent = sellAllButton
				
				sellButton.MouseButton1Click:Connect(function()
					if gameData.inventory[fishName] and gameData.inventory[fishName] > 0 then
						gameData.inventory[fishName] = gameData.inventory[fishName] - 1
						
						local bonus = math.random(1, 100) <= 7
						local finalPrice = bonus and (fishData.sellPrice * 3) or fishData.sellPrice
						
						gameData.money = gameData.money + finalPrice
						updateMoneyDisplay()
						updateInventory()
						
						if bonus then
							local bonusPopup = Instance.new("TextLabel")
							bonusPopup.Size = UDim2.new(0.3, 0, 0.1, 0)
							bonusPopup.Position = UDim2.new(0.35, 0, 0.45, 0)
							bonusPopup.BackgroundTransparency = 1
							bonusPopup.Text = "ðŸŽ‰ BONUS 200%! +ðŸ’° " .. formatNumber(finalPrice)
							bonusPopup.TextColor3 = Color3.fromRGB(255, 215, 0)
							bonusPopup.Font = Enum.Font.GothamBold
							bonusPopup.TextScaled = true
							bonusPopup.Parent = screenGui
							
							createTween(bonusPopup, {Position = UDim2.new(0.35, 0, 0.25, 0)}, 1.5):Play()
							createTween(bonusPopup, {TextTransparency = 1}, 1.5):Play()
							
							wait(1.5)
							bonusPopup:Destroy()
						end
						
						createTween(sellButton, {BackgroundColor3 = Color3.fromRGB(100, 255, 100)}, 0.2):Play()
						wait(0.2)
						createTween(sellButton, {BackgroundColor3 = Color3.fromRGB(50, 150, 50)}, 0.2):Play()
					end
				end)
				
				sellAllButton.MouseButton1Click:Connect(function()
					if gameData.inventory[fishName] and gameData.inventory[fishName] > 0 then
						local totalSold = gameData.inventory[fishName]
						local bonusCount = 0
						local totalMoney = 0
						
						for i = 1, totalSold do
							local bonus = math.random(1, 100) <= 7
							if bonus then
								bonusCount = bonusCount + 1
								totalMoney = totalMoney + (fishData.sellPrice * 3)
							else
								totalMoney = totalMoney + fishData.sellPrice
							end
						end
						
						gameData.money = gameData.money + totalMoney
						gameData.inventory[fishName] = 0
						updateMoneyDisplay()
						updateInventory()
						
						if bonusCount > 0 then
							local bonusPopup = Instance.new("TextLabel")
							bonusPopup.Size = UDim2.new(0.4, 0, 0.12, 0)
							bonusPopup.Position = UDim2.new(0.3, 0, 0.45, 0)
							bonusPopup.BackgroundTransparency = 1
							bonusPopup.Text = "ðŸŽ‰ " .. bonusCount .. " BONUS 200%! +ðŸ’° " .. formatNumber(totalMoney)
							bonusPopup.TextColor3 = Color3.fromRGB(255, 215, 0)
							bonusPopup.Font = Enum.Font.GothamBold
							bonusPopup.TextScaled = true
							bonusPopup.Parent = screenGui
							
							createTween(bonusPopup, {Position = UDim2.new(0.3, 0, 0.25, 0)}, 1.5):Play()
							createTween(bonusPopup, {TextTransparency = 1}, 1.5):Play()
							
							wait(1.5)
							bonusPopup:Destroy()
						end
						
						createTween(sellAllButton, {BackgroundColor3 = Color3.fromRGB(100, 255, 100)}, 0.2):Play()
						wait(0.2)
						createTween(sellAllButton, {BackgroundColor3 = Color3.fromRGB(100, 150, 50)}, 0.2):Play()
					end
				end)
			end
		end
	end
	
	inventoryScroll.CanvasSize = UDim2.new(0, 0, 0, inventoryList.AbsoluteContentSize.Y)
end

local function checkQuestCompletion(fishName)
	for _, char in ipairs(characterDatabase) do
		if char.quest and char.quest == fishName then
			local currentKills = gameData.fishKills[fishName] or 0
			
			if currentKills >= char.kills then
				local alreadyCompleted = false
				for _, completed in ipairs(gameData.questsCompleted) do
					if completed == char.name then
						alreadyCompleted = true
						break
					end
				end
				
				local alreadyOwned = false
				for _, owned in ipairs(gameData.ownedCharacters) do
					if owned == char.name then
						alreadyOwned = true
						break
					end
				end
				
				if not alreadyCompleted and not alreadyOwned then
					table.insert(gameData.questsCompleted, char.name)
					table.insert(gameData.ownedCharacters, char.name)
					
					local questPopup = Instance.new("Frame")
					questPopup.Size = UDim2.new(0.4, 0, 0.15, 0)
					questPopup.Position = UDim2.new(0.3, 0, 0.4, 0)
					questPopup.BackgroundColor3 = Color3.fromRGB(50, 200, 50)
					questPopup.Parent = screenGui
					
					local popupCorner = Instance.new("UICorner")
					popupCorner.CornerRadius = UDim.new(0, 15)
					popupCorner.Parent = questPopup
					
					local popupStroke = Instance.new("UIStroke")
					popupStroke.Color = Color3.fromRGB(255, 215, 0)
					popupStroke.Thickness = 3
					popupStroke.Parent = questPopup
					
					local popupLabel = Instance.new("TextLabel")
					popupLabel.Size = UDim2.new(1, 0, 1, 0)
					popupLabel.BackgroundTransparency = 1
					popupLabel.Text = "ðŸŽ‰ HOÃ€N THÃ€NH NHIá»†M Vá»¤!\nâœ¨ Nháº­n: " .. char.name
					popupLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
					popupLabel.Font = Enum.Font.GothamBold
					popupLabel.TextScaled = true
					popupLabel.Parent = questPopup
					
					wait(3)
					questPopup:Destroy()
				end
			end
		end
	end
	
	for _, rod in ipairs(rodDatabase) do
		if rod.questRod and rod.questFish == fishName then
			local currentKills = gameData.fishKills[fishName] or 0
			
			if currentKills >= rod.questKills then
				local alreadyCompleted = false
				for _, completed in ipairs(gameData.rodQuestsCompleted) do
					if completed == rod.name then
						alreadyCompleted = true
						break
					end
				end
				
				local alreadyOwned = false
				for _, owned in ipairs(gameData.ownedRods) do
					if owned == rod.name then
						alreadyOwned = true
						break
					end
				end
				
				if not alreadyCompleted and not alreadyOwned then
					table.insert(gameData.rodQuestsCompleted, rod.name)
					table.insert(gameData.ownedRods, rod.name)
					
					local questPopup = Instance.new("Frame")
					questPopup.Size = UDim2.new(0.4, 0, 0.15, 0)
					questPopup.Position = UDim2.new(0.3, 0, 0.4, 0)
					questPopup.BackgroundColor3 = Color3.fromRGB(100, 150, 255)
					questPopup.Parent = screenGui
					
					local popupCorner = Instance.new("UICorner")
					popupCorner.CornerRadius = UDim.new(0, 15)
					popupCorner.Parent = questPopup
					
					local popupStroke = Instance.new("UIStroke")
					popupStroke.Color = Color3.fromRGB(255, 215, 0)
					popupStroke.Thickness = 3
					popupStroke.Parent = questPopup
					
					local popupLabel = Instance.new("TextLabel")
					popupLabel.Size = UDim2.new(1, 0, 1, 0)
					popupLabel.BackgroundTransparency = 1
					popupLabel.Text = "ðŸŽ‰ HOÃ€N THÃ€NH NHIá»†M Vá»¤ Cáº¦N!\nðŸŽ£ Nháº­n: " .. rod.name
					popupLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
					popupLabel.Font = Enum.Font.GothamBold
					popupLabel.TextScaled = true
					popupLabel.Parent = questPopup
					
					wait(3)
					questPopup:Destroy()
				end
			end
		end
	end
end

local function updateQuests()
	for _, child in ipairs(questScroll:GetChildren()) do
		if child:IsA("Frame") then
			child:Destroy()
		end
	end
	
	for _, char in ipairs(characterDatabase) do
		if char.quest then
			local isCompleted = false
			for _, completed in ipairs(gameData.questsCompleted) do
				if completed == char.name then
					isCompleted = true
					break
				end
			end
			
			local isOwned = false
			for _, owned in ipairs(gameData.ownedCharacters) do
				if owned == char.name then
					isOwned = true
					break
				end
			end
			
			if not isCompleted and not isOwned then
				local item = Instance.new("Frame")
				item.Size = UDim2.new(1, -10, 0, 100)
				item.BackgroundColor3 = Color3.fromRGB(35, 35, 45)
				item.Parent = questScroll
				
				local itemCorner = Instance.new("UICorner")
				itemCorner.CornerRadius = UDim.new(0, 12)
				itemCorner.Parent = item
				
				local itemStroke = Instance.new("UIStroke")
				itemStroke.Color = Color3.fromRGB(255, 215, 0)
				itemStroke.Thickness = 2
				itemStroke.Parent = item
				
				local nameLabel = Instance.new("TextLabel")
				nameLabel.Size = UDim2.new(0.5, 0, 0.25, 0)
				nameLabel.Position = UDim2.new(0.03, 0, 0.05, 0)
				nameLabel.BackgroundTransparency = 1
				nameLabel.Text = "ðŸŽ " .. char.name
				nameLabel.TextColor3 = Color3.fromRGB(255, 215, 0)
				nameLabel.Font = Enum.Font.GothamBold
				nameLabel.TextScaled = true
				nameLabel.TextXAlignment = Enum.TextXAlignment.Left
				nameLabel.Parent = item
				
				local questLabel = Instance.new("TextLabel")
				questLabel.Size = UDim2.new(0.9, 0, 0.2, 0)
				questLabel.Position = UDim2.new(0.03, 0, 0.32, 0)
				questLabel.BackgroundTransparency = 1
				questLabel.Text = "ðŸ“œ Nhiá»‡m vá»¥: ÄÃ¡nh báº¡i " .. char.kills .. " con " .. char.quest
				questLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
				questLabel.Font = Enum.Font.Gotham
				questLabel.TextSize = 14
				questLabel.TextXAlignment = Enum.TextXAlignment.Left
				questLabel.Parent = item
				
				local progressLabel = Instance.new("TextLabel")
				progressLabel.Size = UDim2.new(0.9, 0, 0.2, 0)
				progressLabel.Position = UDim2.new(0.03, 0, 0.55, 0)
				progressLabel.BackgroundTransparency = 1
				local currentKills = gameData.fishKills[char.quest] or 0
				progressLabel.Text = "âš”ï¸ Tiáº¿n Ä‘á»™: " .. currentKills .. "/" .. char.kills
				progressLabel.TextColor3 = Color3.fromRGB(150, 200, 255)
				progressLabel.Font = Enum.Font.Gotham
				progressLabel.TextSize = 14
				progressLabel.TextXAlignment = Enum.TextXAlignment.Left
				progressLabel.Parent = item
				
				local rewardLabel = Instance.new("TextLabel")
				rewardLabel.Size = UDim2.new(0.9, 0, 0.18, 0)
				rewardLabel.Position = UDim2.new(0.03, 0, 0.77, 0)
				rewardLabel.BackgroundTransparency = 1
				rewardLabel.Text = "ðŸŽ Pháº§n thÆ°á»Ÿng: x" .. formatNumber(char.multiplier) .. " Dame | HP: " .. formatNumber(char.hp)
				rewardLabel.TextColor3 = Color3.fromRGB(255, 255, 100)
				rewardLabel.Font = Enum.Font.GothamBold
				rewardLabel.TextSize = 13
				rewardLabel.TextXAlignment = Enum.TextXAlignment.Left
				rewardLabel.Parent = item
			end
		end
	end
	
	for _, rod in ipairs(rodDatabase) do
		if rod.questRod then
			local isCompleted = false
			for _, completed in ipairs(gameData.rodQuestsCompleted) do
				if completed == rod.name then
					isCompleted = true
					break
				end
			end
			
			local isOwned = false
			for _, owned in ipairs(gameData.ownedRods) do
				if owned == rod.name then
					isOwned = true
					break
				end
			end
			
			if not isCompleted and not isOwned then
				local item = Instance.new("Frame")
				item.Size = UDim2.new(1, -10, 0, 100)
				item.BackgroundColor3 = Color3.fromRGB(35, 35, 45)
				item.Parent = questScroll
				
				local itemCorner = Instance.new("UICorner")
				itemCorner.CornerRadius = UDim.new(0, 12)
				itemCorner.Parent = item
				
				local itemStroke = Instance.new("UIStroke")
				itemStroke.Color = Color3.fromRGB(100, 200, 255)
				itemStroke.Thickness = 2
				itemStroke.Parent = item
				
				local nameLabel = Instance.new("TextLabel")
				nameLabel.Size = UDim2.new(0.5, 0, 0.25, 0)
				nameLabel.Position = UDim2.new(0.03, 0, 0.05, 0)
				nameLabel.BackgroundTransparency = 1
				nameLabel.Text = "ðŸŽ£ " .. rod.name
				nameLabel.TextColor3 = Color3.fromRGB(100, 200, 255)
				nameLabel.Font = Enum.Font.GothamBold
				nameLabel.TextScaled = true
				nameLabel.TextXAlignment = Enum.TextXAlignment.Left
				nameLabel.Parent = item
				
				local questLabel = Instance.new("TextLabel")
				questLabel.Size = UDim2.new(0.9, 0, 0.2, 0)
				questLabel.Position = UDim2.new(0.03, 0, 0.32, 0)
				questLabel.BackgroundTransparency = 1
				questLabel.Text = "ðŸ“œ Nhiá»‡m vá»¥: ÄÃ¡nh báº¡i " .. rod.questKills .. " con " .. rod.questFish
				questLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
				questLabel.Font = Enum.Font.Gotham
				questLabel.TextSize = 14
				questLabel.TextXAlignment = Enum.TextXAlignment.Left
				questLabel.Parent = item
				
				local progressLabel = Instance.new("TextLabel")
				progressLabel.Size = UDim2.new(0.9, 0, 0.2, 0)
				progressLabel.Position = UDim2.new(0.03, 0, 0.55, 0)
				progressLabel.BackgroundTransparency = 1
				local currentKills = gameData.fishKills[rod.questFish] or 0
				progressLabel.Text = "âš”ï¸ Tiáº¿n Ä‘á»™: " .. currentKills .. "/" .. rod.questKills
				progressLabel.TextColor3 = Color3.fromRGB(150, 200, 255)
				progressLabel.Font = Enum.Font.Gotham
				progressLabel.TextSize = 14
				progressLabel.TextXAlignment = Enum.TextXAlignment.Left
				progressLabel.Parent = item
				
				local rewardLabel = Instance.new("TextLabel")
				rewardLabel.Size = UDim2.new(0.9, 0, 0.18, 0)
				rewardLabel.Position = UDim2.new(0.03, 0, 0.77, 0)
				rewardLabel.BackgroundTransparency = 1
				rewardLabel.Text = "ðŸŽ Pháº§n thÆ°á»Ÿng:
âš”ï¸ " .. formatNumber(rod.damage) .. " Dame | ðŸŽ£ " .. formatNumber(rod.maxKg) .. "kg"
				rewardLabel.TextColor3 = Color3.fromRGB(100, 255, 200)
				rewardLabel.Font = Enum.Font.GothamBold
				rewardLabel.TextSize = 13
				rewardLabel.TextXAlignment = Enum.TextXAlignment.Left
				rewardLabel.Parent = item
			end
		end
	end
	
	questScroll.CanvasSize = UDim2.new(0, 0, 0, questList.AbsoluteContentSize.Y)
end

local function updateMapList()
	for _, child in ipairs(mapScroll:GetChildren()) do
		if child:IsA("Frame") then
			child:Destroy()
		end
	end
	
	for _, mapData in ipairs(mapDatabase) do
		local isUnlocked = false
		for _, unlocked in ipairs(gameData.unlockedMaps) do
			if unlocked == mapData.name then
				isUnlocked = true
				break
			end
		end
		
		local item = Instance.new("Frame")
		item.Size = UDim2.new(1, -10, 0, 90)
		item.BackgroundColor3 = Color3.fromRGB(35, 35, 45)
		item.Parent = mapScroll
		
		local itemCorner = Instance.new("UICorner")
		itemCorner.CornerRadius = UDim.new(0, 12)
		itemCorner.Parent = item
		
		local itemStroke = Instance.new("UIStroke")
		itemStroke.Color = mapData.color
		itemStroke.Thickness = 2
		itemStroke.Parent = item
		
		local nameLabel = Instance.new("TextLabel")
		nameLabel.Size = UDim2.new(0.4, 0, 0.3, 0)
		nameLabel.Position = UDim2.new(0.03, 0, 0.1, 0)
		nameLabel.BackgroundTransparency = 1
		nameLabel.Text = mapData.name
		nameLabel.TextColor3 = mapData.color
		nameLabel.Font = Enum.Font.GothamBold
		nameLabel.TextScaled = true
		nameLabel.TextXAlignment = Enum.TextXAlignment.Left
		nameLabel.Parent = item
		
		local difficultyLabel = Instance.new("TextLabel")
		difficultyLabel.Size = UDim2.new(0.4, 0, 0.25, 0)
		difficultyLabel.Position = UDim2.new(0.03, 0, 0.45, 0)
		difficultyLabel.BackgroundTransparency = 1
		difficultyLabel.Text = "â­ Äá»™ khÃ³: " .. mapData.difficulty .. "/17"
		difficultyLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
		difficultyLabel.Font = Enum.Font.Gotham
		difficultyLabel.TextSize = 14
		difficultyLabel.TextXAlignment = Enum.TextXAlignment.Left
		difficultyLabel.Parent = item
		
		local costLabel = Instance.new("TextLabel")
		costLabel.Size = UDim2.new(0.4, 0, 0.25, 0)
		costLabel.Position = UDim2.new(0.03, 0, 0.7, 0)
		costLabel.BackgroundTransparency = 1
		costLabel.Text = "ðŸ’° Chi phÃ­: " .. formatNumber(mapData.cost)
		costLabel.TextColor3 = Color3.fromRGB(255, 255, 100)
		costLabel.Font = Enum.Font.Gotham
		costLabel.TextSize = 13
		costLabel.TextXAlignment = Enum.TextXAlignment.Left
		costLabel.Parent = item
		
		local actionButton = Instance.new("TextButton")
		actionButton.Size = UDim2.new(0.25, 0, 0.5, 0)
		actionButton.Position = UDim2.new(0.7, 0, 0.25, 0)
		actionButton.BackgroundColor3 = isUnlocked and Color3.fromRGB(100, 100, 200) or Color3.fromRGB(50, 150, 50)
		actionButton.Text = isUnlocked and "VÃ€O Báº¢N Äá»’" or "Má»ž KHÃ“A"
		actionButton.TextColor3 = Color3.fromRGB(255, 255, 255)
		actionButton.Font = Enum.Font.GothamBold
		actionButton.TextScaled = true
		actionButton.Parent = item
		
		local actionCorner = Instance.new("UICorner")
		actionCorner.CornerRadius = UDim.new(0, 10)
		actionCorner.Parent = actionButton
		
		actionButton.MouseButton1Click:Connect(function()
			if isUnlocked then
				gameData.currentMap = mapData.name
				updateMapDisplay()
				spawnNewFish()
				
				createTween(actionButton, {BackgroundColor3 = Color3.fromRGB(50, 200, 50)}, 0.2):Play()
				wait(0.2)
				createTween(actionButton, {BackgroundColor3 = Color3.fromRGB(100, 100, 200)}, 0.2):Play()
			else
				if gameData.money >= mapData.cost then
					gameData.money = gameData.money - mapData.cost
					table.insert(gameData.unlockedMaps, mapData.name)
					updateMoneyDisplay()
					updateMapList()
					
					createTween(item, {BackgroundColor3 = Color3.fromRGB(50, 200, 50)}, 0.3):Play()
					wait(0.3)
					createTween(item, {BackgroundColor3 = Color3.fromRGB(35, 35, 45)}, 0.3):Play()
				else
					actionButton.BackgroundColor3 = Color3.fromRGB(200, 50, 50)
					shakeEffect(actionButton)
					wait(0.3)
					actionButton.BackgroundColor3 = Color3.fromRGB(50, 150, 50)
				end
			end
		end)
		
		if gameData.currentMap == mapData.name then
			item.BackgroundColor3 = Color3.fromRGB(50, 50, 70)
		end
	end
	
	mapScroll.CanvasSize = UDim2.new(0, 0, 0, mapListLayout.AbsoluteContentSize.Y)
end

local function updateChallenges()
	for _, child in ipairs(challengeScroll:GetChildren()) do
		if child:IsA("Frame") then
			child:Destroy()
		end
	end
	
	for _, challenge in ipairs(challengeDatabase) do
		local item = Instance.new("Frame")
		item.Size = UDim2.new(1, -10, 0, 120)
		item.BackgroundColor3 = Color3.fromRGB(35, 35, 45)
		item.Parent = challengeScroll
		
		local itemCorner = Instance.new("UICorner")
		itemCorner.CornerRadius = UDim.new(0, 12)
		itemCorner.Parent = item
		
		local itemStroke = Instance.new("UIStroke")
		itemStroke.Color = Color3.fromRGB(255, 50, 50)
		itemStroke.Thickness = 3
		itemStroke.Parent = item
		
		local nameLabel = Instance.new("TextLabel")
		nameLabel.Size = UDim2.new(0.6, 0, 0.2, 0)
		nameLabel.Position = UDim2.new(0.03, 0, 0.05, 0)
		nameLabel.BackgroundTransparency = 1
		nameLabel.Text = "âš”ï¸ " .. challenge.name
		nameLabel.TextColor3 = Color3.fromRGB(255, 50, 50)
		nameLabel.Font = Enum.Font.GothamBold
		nameLabel.TextScaled = true
		nameLabel.TextXAlignment = Enum.TextXAlignment.Left
		nameLabel.Parent = item
		
		local bossLabel = Instance.new("TextLabel")
		bossLabel.Size = UDim2.new(0.9, 0, 0.18, 0)
		bossLabel.Position = UDim2.new(0.03, 0, 0.28, 0)
		bossLabel.BackgroundTransparency = 1
		bossLabel.Text = "ðŸ‘¹ Boss: " .. challenge.boss.name
		bossLabel.TextColor3 = Color3.fromRGB(255, 150, 150)
		bossLabel.Font = Enum.Font.GothamBold
		bossLabel.TextSize = 14
		bossLabel.TextXAlignment = Enum.TextXAlignment.Left
		bossLabel.Parent = item
		
		local hpLabel = Instance.new("TextLabel")
		hpLabel.Size = UDim2.new(0.9, 0, 0.15, 0)
		hpLabel.Position = UDim2.new(0.03, 0, 0.48, 0)
		hpLabel.BackgroundTransparency = 1
		hpLabel.Text = "â¤ï¸ HP: " .. formatNumber(challenge.boss.hp) .. " | âš”ï¸ Dame: " .. formatNumber(challenge.boss.damage)
		hpLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
		hpLabel.Font = Enum.Font.Gotham
		hpLabel.TextSize = 13
		hpLabel.TextXAlignment = Enum.TextXAlignment.Left
		hpLabel.Parent = item
		
		local rewardLabel = Instance.new("TextLabel")
		rewardLabel.Size = UDim2.new(0.9, 0, 0.15, 0)
		rewardLabel.Position = UDim2.new(0.03, 0, 0.65, 0)
		rewardLabel.BackgroundTransparency = 1
		rewardLabel.Text = "ðŸŽ Pháº§n thÆ°á»Ÿng: ðŸ’° " .. formatNumber(challenge.boss.reward)
		rewardLabel.TextColor3 = Color3.fromRGB(255, 255, 100)
		rewardLabel.Font = Enum.Font.GothamBold
		rewardLabel.TextSize = 13
		rewardLabel.TextXAlignment = Enum.TextXAlignment.Left
		rewardLabel.Parent = item
		
		local fightButton = Instance.new("TextButton")
		fightButton.Size = UDim2.new(0.25, 0, 0.25, 0)
		fightButton.Position = UDim2.new(0.7, 0, 0.65, 0)
		fightButton.BackgroundColor3 = Color3.fromRGB(200, 50, 50)
		fightButton.Text = "CHIáº¾N Äáº¤U"
		fightButton.TextColor3 = Color3.fromRGB(255, 255, 255)
		fightButton.Font = Enum.Font.GothamBold
		fightButton.TextScaled = true
		fightButton.Parent = item
		
		local fightCorner = Instance.new("UICorner")
		fightCorner.CornerRadius = UDim.new(0, 10)
		fightCorner.Parent = fightButton
		
		fightButton.MouseButton1Click:Connect(function()
			local playerMaxHp = calculatePlayerMaxHp()
			gameData.playerCurrentHp = playerMaxHp
			
			gameData.currentFish = {
				name = challenge.boss.name,
				maxHp = challenge.boss.hp,
				currentHp = challenge.boss.hp,
				weight = 99999,
				money = challenge.boss.reward,
				type = "special",
				kg = 0,
				sellPrice = 0,
				canAttack = true,
				attackDamage = challenge.boss.damage,
				isBoss = true
			}
			
			updateFishDisplay()
			updatePlayerHp()
			
			for name, btn in pairs(tabButtons) do
				btn.BackgroundColor3 = Color3.fromRGB(40, 40, 50)
			end
			tabButtons["CÃ¢u CÃ¡"].BackgroundColor3 = Color3.fromRGB(60, 60, 80)
			
			for _, frame in pairs(contentFrames) do
				frame.Visible = false
			end
			contentFrames["CÃ¢u CÃ¡"].Visible = true
			
			createTween(fightButton, {BackgroundColor3 = Color3.fromRGB(255, 100, 100)}, 0.2):Play()
			wait(0.2)
			createTween(fightButton, {BackgroundColor3 = Color3.fromRGB(200, 50, 50)}, 0.2):Play()
		end)
	end
	
	challengeScroll.CanvasSize = UDim2.new(0, 0, 0, challengeListLayout.AbsoluteContentSize.Y)
end

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- LOGIC CÃ‚U CÃ
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local function damageCurrentFish()
	if not gameData.currentFish then
		return
	end
	
	local totalDamage = calculateTotalDamage()
	gameData.currentFish.currentHp = gameData.currentFish.currentHp - totalDamage
	
	createTween(fishButton, {Rotation = 360}, 0.5):Play()
	createTween(fishButton, {Size = UDim2.new(0.22, 0, 0.22, 0)}, 0.1):Play()
	wait(0.1)
	createTween(fishButton, {Size = UDim2.new(0.2, 0, 0.2, 0)}, 0.1):Play()
	fishButton.Rotation = 0
	
	local rodData = nil
	for _, rod in ipairs(rodDatabase) do
		if rod.name == gameData.equippedRod then
			rodData = rod
			break
		end
	end
	
	if rodData and gameData.currentFish.kg > rodData.maxKg and not gameData.currentFish.isBoss then
		fishNameLabel.Text = "âš ï¸ Cáº¦N GÃƒY! CÃ¡ cáº§n " .. gameData.currentFish.kg .. "kg!"
		fishNameLabel.TextColor3 = Color3.fromRGB(255, 50, 50)
		shakeEffect(fishDisplayFrame)
		wait(1)
		spawnNewFish()
		return
	end
	
	if gameData.currentFish.canAttack and gameData.currentFish.attackDamage > 0 then
		if math.random(1, 100) <= 30 then
			gameData.playerCurrentHp = gameData.playerCurrentHp - gameData.currentFish.attackDamage
			updatePlayerHp()
			
			local attackPopup = Instance.new("TextLabel")
			attackPopup.Size = UDim2.new(0.3, 0, 0.1, 0)
			attackPopup.Position = UDim2.new(0.35, 0, 0.3, 0)
			attackPopup.BackgroundTransparency = 1
			attackPopup.Text = "ðŸ’¥ CÃ Táº¤N CÃ”NG! -" .. formatNumber(gameData.currentFish.attackDamage) .. " HP"
			attackPopup.TextColor3 = Color3.fromRGB(255, 50, 50)
			attackPopup.Font = Enum.Font.GothamBold
			attackPopup.TextScaled = true
			attackPopup.Parent = fishingFrame
			
			shakeEffect(fishDisplayFrame)
			
			createTween(attackPopup, {Position = UDim2.new(0.35, 0, 0.15, 0)}, 1):Play()
			createTween(attackPopup, {TextTransparency = 1}, 1):Play()
			
			wait(1)
			attackPopup:Destroy()
			
			if gameData.playerCurrentHp <= 0 then
				gameData.playerCurrentHp = 0
				updatePlayerHp()
				
				local deathPopup = Instance.new("Frame")
				deathPopup.Size = UDim2.new(0.5, 0, 0.2, 0)
				deathPopup.Position = UDim2.new(0.25, 0, 0.4, 0)
				deathPopup.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
				deathPopup.Parent = screenGui
				
				local deathCorner = Instance.new("UICorner")
				deathCorner.CornerRadius = UDim.new(0, 15)
				deathCorner.Parent = deathPopup
				
				local deathLabel = Instance.new("TextLabel")
				deathLabel.Size = UDim2.new(1, 0, 0.6, 0)
				deathLabel.Position = UDim2.new(0, 0, 0.1, 0)
				deathLabel.BackgroundTransparency = 1
				deathLabel.Text = "ðŸ’€ Báº N ÄÃƒ THUA!\nCÃ¡ Ä‘Ã£ trá»‘n thoÃ¡t!"
				deathLabel.TextColor3 = Color3.fromRGB(255, 50, 50)
				deathLabel.Font = Enum.Font.GothamBold
				deathLabel.TextScaled = true
				deathLabel.Parent = deathPopup
				
				local respawnButton = Instance.new("TextButton")
				respawnButton.Size = UDim2.new(0.4, 0, 0.25, 0)
				respawnButton.Position = UDim2.new(0.3, 0, 0.7, 0)
				respawnButton.BackgroundColor3 = Color3.fromRGB(50, 150, 50)
				respawnButton.Text = "Há»’I SINH"
				respawnButton.TextColor3 = Color3.fromRGB(255, 255, 255)
				respawnButton.Font = Enum.Font.GothamBold
				respawnButton.TextScaled = true
				respawnButton.Parent = deathPopup
				
				local respawnCorner = Instance.new("UICorner")
				respawnCorner.CornerRadius = UDim.new(0, 10)
				respawnCorner.Parent = respawnButton
				
				respawnButton.MouseButton1Click:Connect(function()
					gameData.playerCurrentHp = calculatePlayerMaxHp()
					updatePlayerHp()
					spawnNewFish()
					deathPopup:Destroy()
				end)
				
				return
			end
		end
	end
	
	if gameData.currentFish.currentHp <= 0 then
		local earnedMoney = gameData.currentFish.money
		gameData.money = gameData.money + earnedMoney
		
		if not gameData.currentFish.isBoss then
			local fishName = gameData.currentFish.name
			if not gameData.inventory[fishName] then
				gameData.inventory[fishName] = 0
			end
			gameData.inventory[fishName] = gameData.inventory[fishName] + 1
			
			if not gameData.fishKills[fishName] then
				gameData.fishKills[fishName] = 0
			end
			gameData.fishKills[fishName] = gameData.fishKills[fishName] + 1
			
			checkQuestCompletion(fishName)
		end
		
		fishNameLabel.Text = "ðŸŽ‰ Báº®T ÄÆ¯á»¢C: " .. gameData.currentFish.name
		fishNameLabel.TextColor3 = Color3.fromRGB(50, 255, 50)
		
		local moneyPopup = Instance.new("TextLabel")
		moneyPopup.Size = UDim2.new(0.3, 0, 0.1, 0)
		moneyPopup.Position = UDim2.new(0.35, 0, 0.45, 0)
		moneyPopup.BackgroundTransparency = 1
		moneyPopup.Text = "+ðŸ’° " .. formatNumber(earnedMoney)
		moneyPopup.TextColor3 = Color3.fromRGB(255, 255, 0)
		moneyPopup.Font = Enum.Font.GothamBold
		moneyPopup.TextScaled = true
		moneyPopup.Parent = fishingFrame
		
		createTween(moneyPopup, {Position = UDim2.new(0.35, 0, 0.25, 0)}, 1):Play()
		createTween(moneyPopup, {TextTransparency = 1}, 1):Play()
		
		wait(1)
		moneyPopup:Destroy()
		
		updateMoneyDisplay()
		updateInventory()
		spawnNewFish()
		
		gameData.playerCurrentHp = calculatePlayerMaxHp()
		updatePlayerHp()
	else
		updateFishDisplay()
	end
end

fishButton.MouseButton1Click:Connect(function()
	damageCurrentFish()
end)

local isHolding = false

fishButton.MouseButton1Down:Connect(function()
	isHolding = true
	wait(0.5)
	
	while isHolding do
		damageCurrentFish()
		wait(0.3)
	end
end)

fishButton.MouseButton1Up:Connect(function()
	isHolding = false
end)

releaseFishButton.MouseButton1Click:Connect(function()
	spawnNewFish()
	gameData.playerCurrentHp = calculatePlayerMaxHp()
	updatePlayerHp()
	
	createTween(releaseFishButton, {BackgroundColor3 = Color3.fromRGB(150, 150, 255)}, 0.2):Play()
	wait(0.2)
	createTween(releaseFishButton, {BackgroundColor3 = Color3.fromRGB(100, 100, 255)}, 0.2):Play()
end)

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- Táº O SHOP ITEMS
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

-- Character Shop
for _, char in ipairs(characterDatabase) do
	local item = Instance.new("Frame")
	item.Size = UDim2.new(1, -10, 0, 80)
	item.BackgroundColor3 = Color3.fromRGB(35, 35, 45)
	item.Parent = charShopScroll
	
	local itemCorner = Instance.new("UICorner")
	itemCorner.CornerRadius = UDim.new(0, 12)
	itemCorner.Parent = item
	
	local itemStroke = Instance.new("UIStroke")
	itemStroke.Color = Color3.fromRGB(100, 100, 120)
	itemStroke.Thickness = 1
	itemStroke.Parent = item
	
	if char.quest then
		itemStroke.Color = Color3.fromRGB(255, 215, 0)
		itemStroke.Thickness = 2
	end
	
	local nameLabel = Instance.new("TextLabel")
	nameLabel.Size = UDim2.new(0.3, 0, 0.35, 0)
	nameLabel.Position = UDim2.new(0.03, 0, 0.1, 0)
	nameLabel.BackgroundTransparency = 1
	nameLabel.Text = char.name
	nameLabel.TextColor3 = char.quest and Color3.fromRGB(255, 215, 0) or Color3.fromRGB(255, 215, 0)
	nameLabel.Font = Enum.Font.GothamBold
	nameLabel.TextScaled = true
	nameLabel.TextXAlignment = Enum.TextXAlignment.Left
	nameLabel.Parent = item
	
	local statsLabel = Instance.new("TextLabel")
	statsLabel.Size = UDim2.new(0.35, 0, 0.25, 0)
	statsLabel.Position = UDim2.new(0.03, 0, 0.5, 0)
	statsLabel.BackgroundTransparency = 1
	statsLabel.Text = "âš”ï¸ x" .. formatNumber(char.multiplier) .. " | â¤ï¸ HP: " .. formatNumber(char.hp)
	statsLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
	statsLabel.Font = Enum.Font.Gotham
	statsLabel.TextSize = 14
	statsLabel.TextXAlignment = Enum.TextXAlignment.Left
	statsLabel.Parent = item
	
	local costLabel = Instance.new("TextLabel")
	costLabel.Size = UDim2.new(0.25, 0, 0.25, 0)
	costLabel.Position = UDim2.new(0.03, 0, 0.7, 0)
	costLabel.BackgroundTransparency = 1
	if char.quest then
		costLabel.Text = "ðŸ“œ Nhiá»‡m vá»¥"
	else
		costLabel.Text = "ðŸ’° " .. formatNumber(char.cost)
	end
	costLabel.TextColor3 = Color3.fromRGB(255, 255, 100)
	costLabel.Font = Enum.Font.Gotham
	costLabel.TextSize = 13
	costLabel.TextXAlignment = Enum.TextXAlignment.Left
	costLabel.Parent = item
	
	local buyButton = Instance.new("TextButton")
	buyButton.Size = UDim2.new(0.18, 0, 0.5, 0)
	buyButton.Position = UDim2.new(0.45, 0, 0.25, 0)
	buyButton.BackgroundColor3 = Color3.fromRGB(50, 150, 50)
	buyButton.Text = "MUA"
	buyButton.TextColor3 = Color3.fromRGB(255, 255, 255)
	buyButton.Font = Enum.Font.GothamBold
	buyButton.TextScaled = true
	buyButton.Parent = item
	
	local buyCorner = Instance.new("UICorner")
	buyCorner.CornerRadius = UDim.new(0, 10)
	buyCorner.Parent = buyButton
	
	local equipButton = Instance.new("TextButton")
	equipButton.Size = UDim2.new(0.23, 0, 0.5, 0)
	equipButton.Position = UDim2.new(0.7, 0, 0.25, 0)
	equipButton.BackgroundColor3 = Color3.fromRGB(100, 100, 200)
	equipButton.Text = "TRANG Bá»Š"
	equipButton.TextColor3 = Color3.fromRGB(255, 255, 255)
	equipButton.Font = Enum.Font.GothamBold
	equipButton.TextScaled = true
	equipButton.Parent = item
	
	local equipCorner = Instance.new("UICorner")
	equipCorner.CornerRadius = UDim.new(0, 10)
	equipCorner.Parent = equipButton
	
	buyButton.MouseButton1Click:Connect(function()
		local isOwned = false
		for _, owned in ipairs(gameData.ownedCharacters) do
			if owned == char.name then
				isOwned = true
				break
			end
		end
		
		if isOwned then
			buyButton.Text = "OWNER"
			buyButton.BackgroundColor3 = Color3.fromRGB(100, 100, 100)
			shakeEffect(buyButton)
		elseif char.quest then
			shakeEffect(buyButton)
		elseif gameData.money >= char.cost then
			gameData.money = gameData.money - char.cost
			table.insert(gameData.ownedCharacters, char.name)
			updateMoneyDisplay()
			
			buyButton.Text = "OWNER"
			buyButton.BackgroundColor3 = Color3.fromRGB(100, 100, 100)
			
			createTween(item, {BackgroundColor3 = Color3.fromRGB(50, 200, 50)}, 0.3):Play()
			wait(0.3)
			createTween(item, {BackgroundColor3 = Color3.fromRGB(35, 35, 45)}, 0.3):Play()
		else
			buyButton.BackgroundColor3 = Color3.fromRGB(200, 50, 50)
			shakeEffect(buyButton)
			wait(0.3)
			buyButton.BackgroundColor3 = Color3.fromRGB(50, 150, 50)
		end
	end)
	
	equipButton.MouseButton1Click:Connect(function()
		local isOwned = false
		for _, owned in ipairs(gameData.ownedCharacters) do
			if owned == char.name then
				isOwned = true
				break
			end
		end
		
		if not isOwned then
			shakeEffect(equipButton)
			return
		end
		
		local isEquipped = false
		for i, equipped in ipairs(gameData.equippedCharacters) do
			if equipped == char.name then
				table.remove(gameData.equippedCharacters, i)
				isEquipped = true
				equipButton.Text = "TRANG Bá»Š"
				equipButton.BackgroundColor3 = Color3.fromRGB(100, 100, 200)
				break
			end
		end
		
		if not isEquipped then
			if #gameData.equippedCharacters < 3 then
				table.insert(gameData.equippedCharacters, char.name)
				equipButton.Text = "Gá»  Bá»Ž"
				equipButton.BackgroundColor3 = Color3.fromRGB(200, 100, 50)
			else
				shakeEffect(equipButton)
			end
		end
		
		updateEquippedCharacters()
	end)
	
	for _, owned in ipairs(gameData.ownedCharacters) do
		if owned == char.name then
			buyButton.Text = "OWNER"
			buyButton.BackgroundColor3 = Color3.fromRGB(100, 100, 100)
			break
		end
	end
end

charShopScroll.CanvasSize = UDim2.new(0, 0, 0, charShopList.AbsoluteContentSize.Y)

-- Rod Shop (tiáº¿p tá»¥c á»Ÿ message tiáº¿p theo do giá»›i háº¡n Ä‘á»™ dÃ i)